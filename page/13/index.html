<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/logo.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="mask-icon" href="/logo.png" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"leadscloud.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.22.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"algolia":{"appID":"F1YESSIUKA","apiKey":"fba180e0d225a86fe382bf021a9f0ae3","indexName":"blog","hits":{"per_page":10}}}</script><script src="/js/config.js"></script>

    <meta name="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
<meta property="og:type" content="website">
<meta property="og:title" content="leadscloud">
<meta property="og:url" content="https://leadscloud.github.io/page/13/index.html">
<meta property="og:site_name" content="leadscloud">
<meta property="og:description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Ray">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://leadscloud.github.io/page/13/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/13/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>leadscloud</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6GCT2E7T9Y"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-6GCT2E7T9Y","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="leadscloud" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">leadscloud</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Google SEO|外贸营销推广</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">266</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">11</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">459</span></a></li><li class="menu-item menu-item-免费chatgpt"><a href="https://freegpt.tech/?refer=blog-side" rel="section" target="_blank"><i class="fa fa-heart fa-fw"></i>免费ChatGPT</a></li><li class="menu-item menu-item-我的简历"><a href="https://leadscloud.github.io/resume/resume.pdf" rel="section"><i class="fa fa-vcard fa-fw"></i>我的简历</a></li><li class="menu-item menu-item-友情链接"><a href="/links/" rel="section"><i class="fa fa-link fa-fw"></i>友情链接</a></li><li class="menu-item menu-item-chrome扩展（域名所属人）"><a href="/serp-analyzer/" rel="section"><i class="fa fa-cloud fa-fw"></i>Chrome扩展（域名所属人）</a></li><li class="menu-item menu-item-询盘管理系统"><a href="https://github.com/leadscloud/infomaster" rel="section" target="_blank"><i class="fa fa-database fa-fw"></i>询盘管理系统</a></li><li class="menu-item menu-item-外贸留言板系统"><a href="/20180615/google-seo-inquiry-messageboard/" rel="section"><i class="fa fa-database fa-fw"></i>外贸留言板系统</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fab fa-algolia fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Ray</p>
  <div class="site-description" itemprop="description">熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">459</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">266</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/leadscloud" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;leadscloud" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:love4026@gmail.com" title="E-Mail → mailto:love4026@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          链接
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://cdn.livechatinc.xyz/" title="https:&#x2F;&#x2F;cdn.livechatinc.xyz&#x2F;" rel="noopener" target="_blank">RLiveChat</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://www.kamychina.com/" title="https:&#x2F;&#x2F;www.kamychina.com&#x2F;" rel="noopener" target="_blank">Roadheader</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://tinycms.xyz/" title="https:&#x2F;&#x2F;tinycms.xyz&#x2F;" rel="noopener" target="_blank">TinyCMS</a>
            </li>
        </ul>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313867/lnmpa%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%90%AD%E5%BB%BAhttps%E7%BD%91%E7%AB%99/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313867/lnmpa%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%90%AD%E5%BB%BAhttps%E7%BD%91%E7%AB%99/" class="post-title-link" itemprop="url">lnmpa服务器下免费搭建https网站</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-06-24 14:22:47" itemprop="dateCreated datePublished" datetime="2014-06-24T14:22:47+08:00">2014-06-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
    </span>

  
    <span id="/313867/lnmpa%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%90%AD%E5%BB%BAhttps%E7%BD%91%E7%AB%99/" class="post-meta-item leancloud_visitors" data-flag-title="lnmpa服务器下免费搭建https网站" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313867/lnmpa%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%90%AD%E5%BB%BAhttps%E7%BD%91%E7%AB%99/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313867/lnmpa%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8B%E5%85%8D%E8%B4%B9%E6%90%AD%E5%BB%BAhttps%E7%BD%91%E7%AB%99/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/wp-content/uploads/2014/06/20140624143525.jpg" alt="20140624143525"><br>本文讲述如何免费申请SSL证书，并搭建https网站，由于服务器是NGINX，顺便会介绍如何安装SPDY协议。</p>
<h2 id="StartSSL介绍"><a href="#StartSSL介绍" class="headerlink" title="StartSSL介绍"></a>StartSSL介绍</h2><p><a href="http://www.startssl.com/">StartSSL</a>是一家CA机构，它的根证书很久之前就被一些具有开源背景的浏览器支持（Firefox浏览器、谷歌Chrome浏览器、苹果Safari浏览器等）。<br>在今年9月份，StartSSL竟然搞定了微软：微软在升级补丁中，更新了通过Windows根证书认证程序（Windows Root Certificate Program）的厂商清单，并首次将StartCom公司列入了该认证清单，这是微软首次将提供免费数字验证技术的厂商加入根证书认证列表中。现在，在Windows 7或安装了升级补丁的Windows Vista或Windows XP操作系统中，系统会完全信任由StartCom这类免费数字认证机构认证的数字证书，从而使StartSSL也得到了IE浏览器的支持。</p>
<h3 id="StartSSL申请注意事项"><a href="#StartSSL申请注意事项" class="headerlink" title="StartSSL申请注意事项"></a>StartSSL申请注意事项</h3><p>（1）需要一个域名，并开通域名邮箱，邮箱前缀为：webmaster这样的信息，一定要开通一个<a href="mailto:&#x77;&#x65;&#98;&#109;&#x61;&#x73;&#x74;&#x65;&#114;&#x40;&#x79;&#111;&#x75;&#114;&#100;&#x6f;&#109;&#97;&#x69;&#x6e;&#x6e;&#97;&#x6d;&#101;&#x2e;&#x63;&#x6f;&#109;">webmaster@yourdomainname.com</a>这样的域名，这个会用来验证你的域名；<br>（2）申请时一定要填写完整正确的信息，否则无法通过申请，我就是因为第一次填写的地址信息不全，没有通过，一般添写正确的地址很快就会通过的；<br>（3）打开网站 在control panel &#x2F; sign-up 注意填写正确资料。收到邮件后复制验证码。然后可以生成一个证书，注意，startssl.com不是以用户名、密码来验证用户的，是用证书来验证用户的。所以生成证书后(火狐会导入证书)，注意备份证书。丢失证书后只能重新注册。<br>（4）登录后还要验证域名才能为该域名生成SSL证书，可以选择在whois里的邮箱、hostmaster@domain、postmaster@domain或者webmaster@domain<br>（5）然后就可以在Certificates wizard里就可以申请SSL证书了。<br>（6）有效期一年（到期前会收到邮件通知续期）。</p>
<h2 id="申请流程"><a href="#申请流程" class="headerlink" title="申请流程"></a>申请流程</h2><p>所有的资料都最好使用正确的。因为注册SSL是一件很严肃的事情。还有就是如果你的IP地址是在大陆，你输入香港也是会被拒绝的。而且你的地址也是也是要详细的。按照表单写完以后点击Continue按钮。然后你填写的邮箱会收到一个验证码。 上面说大概需要等6个小时收到通知，其实一般一两分钟就会出结果</p>
<p>打开你的邮箱，把验证码输入到你的浏览器Code的框里，然后继续。</p>
<p>通过后，会收到通过验证的邮件，然后给你一个URL，输入到浏览器中进行下一步安装证书。如果弹出的窗口依然还让你输入Code，那则输入邮件下面链接的Code。</p>
<p>点击Continue，接下来你的浏览器开始安装私钥，相当于建立用户名密码</p>
<p>然后密钥安装成功以后提示你开始安装证书。</p>
<p>证书安装完毕以后会祝贺你一下。点击完成。 这时给你会收到邮件说你安装好啦，可以使用了。</p>
<p>在Validations Wizard选择里验证你的域名。按照提示操作就行了，它会扫描你的网站上的邮箱，然后列出来，会给你的邮箱发一封信，所以你一定要有一个企业邮箱来收信的。域名验证成功后，接下来申请域名SSL证书。</p>
<p>点击Certificates Wizard ，选择下拉菜单中的Web Server SSL&#x2F;TSL Certificate</p>
<p>然后进入下一步他会问你验证方式，这一步如果你跳过需要在VPS上设置，具体可以见网站：<a href="http://blog.nicky1605.com/the-free-ssl-configuration-startssl-on-nginx.html">http://blog.nicky1605.com/the-free-ssl-configuration-startssl-on-nginx.html</a></p>
<p>如果没有跳过，你必须设置密码，不少于10位的。然后点击下一步生成一段字符串</p>
<p>这一小的操作中会出现两段字条串，一段类似这样的</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-----<span class="keyword">BEGIN</span> RSA <span class="keyword">PRIVATE</span> KEY-----</span><br><span class="line">Proc-<span class="keyword">Type</span>: <span class="number">4</span>,ENCRYPTED</span><br><span class="line">DEK-Info: AES-<span class="number">256</span>-CBC,<span class="number">1</span>FBB7A12C5332861D52FEDFA2E3E7AE3</span><br><span class="line"></span><br><span class="line">....</span><br></pre></td></tr></table></figure>

<p>复制内容保存为 <code>/etc/ssl/certs/xxxx.crt</code><br>一段类似这样的</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="params">-----BEGIN</span> CERTIFICATE<span class="params">-----</span></span><br><span class="line">MIIGdTCCBV2gAwIBAgIDYTrWMA0GCSqGSIc3FQEBBQUAMIGMMQswCQYDVQQGEwJJ</span><br><span class="line"><span class="string">...</span></span><br></pre></td></tr></table></figure>

<p>复制内容保存为 <code>/etc/ssl/certs/xxxx.key</code></p>
<p>下面就是配置你的VPS上的NGINX服务器了。</p>
<p><code>vi /usr/local/nginx/conf/vhost/xxxx.conf</code></p>
<p>在Server里添加</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">listen <span class="number">443</span> ssl spdy;</span><br><span class="line">ssl                     on;</span><br><span class="line">ssl_certificate         /etc/ssl/certs/xxxx.crt;</span><br><span class="line">ssl_certificate_key     /etc/ssl/certs/xxxx.key;</span><br><span class="line">ssl_session_timeout     10m;</span><br><span class="line">ssl_protocols           <span class="title class_">SSLv2</span> <span class="title class_">SSLv3</span> <span class="title class_">TLSv1</span>;</span><br><span class="line">ssl_ciphers             <span class="variable constant_">ALL</span><span class="symbol">:</span>!<span class="variable constant_">ADH</span><span class="symbol">:</span>!<span class="variable constant_">EXPORT56</span><span class="symbol">:RC4+RSA</span><span class="symbol">:+HIGH</span><span class="symbol">:+MEDIUM</span><span class="symbol">:+LOW</span><span class="symbol">:+SSLv2</span><span class="symbol">:+EXP</span>;</span><br><span class="line">ssl_prefer_server_ciphers       on;</span><br></pre></td></tr></table></figure>

<p>如果你想让http跳转到https下，需要再加一段代码</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">if</span> (<span class="variable">$ssl_protocol</span> = <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">    <span class="attribute">rewrite</span><span class="regexp"> ^/(.*)$</span> https://www.domain.com/<span class="variable">$1</span> <span class="literal">permanent</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果出现循环重定向，检查下你的网站根目录下，是否有<code>.htaccess</code>文件，因为我的服务器是lnmpa的，apache的重定向文件还是会起作用的，检查下有无重定向到http的，一般是301重定向需要修改下。</p>
<p>上面这些做完之后，还需要另外对firefox浏览器作一些配置更改<br>到<code>/etc/ssl/certs/xxxx.crt</code>所在目录执行以下代码</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget http:<span class="comment">//cert.startssl.com/certs/sub.class1.server.ca.pem</span></span><br><span class="line">cat ca<span class="selector-class">.pem</span> sub<span class="selector-class">.class1</span><span class="selector-class">.server</span><span class="selector-class">.ca</span><span class="selector-class">.pem</span> &gt;&gt; xxxx.crt</span><br></pre></td></tr></table></figure>

<p>就是向 xxx.crt里面追加一些内容，这样firefox就不会提示证书不安全了。</p>
<p>下就是重启你的nginx服务器，但这里会提示你需要输入Enter PEM pass phrase<br>总不能每次重启都要输入那个密码吧，这个可以跳过的，方法按照我之前的一篇文章操作</p>
<p><a href="/313864/lnmp%E4%B8%8Bnginx%E9%85%8D%E7%BD%AEssl%E5%AE%89%E5%85%A8%E8%AF%81%E4%B9%A6%E9%81%BF%E5%85%8D%E5%90%AF%E5%8A%A8%E8%BE%93%E5%85%A5enter-pem-pass-phrase/" title="LNMP下Nginx配置SSL安全证书避免启动输入Enter PEM pass phrase">&#x2F;313864&#x2F;lnmp%E4%B8%8Bnginx%E9%85%8D%E7%BD%AEssl%E5%AE%89%E5%85%A8%E8%AF%81%E4%B9%A6%E9%81%BF%E5%85%8D%E5%90%AF%E5%8A%A8%E8%BE%93%E5%85%A5enter-pem-pass-phrase&#x2F;</a></p>
<h3 id="SPDY协议安装"><a href="#SPDY协议安装" class="headerlink" title="SPDY协议安装"></a>SPDY协议安装</h3><p>你要先下载最新的 OpenSSL，比如 1.0.1e，<a href="http://www.openssl.org/source/">这里</a>是下载列表，红色标注的就是最新版了。因为前些时间的openssl漏洞，现在linode好像自动已经升级到最新版1.0.1e了。</p>
<p>但还是需要下载，解压</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">cd</span> /tmp</span><br><span class="line"><span class="attribute">wget</span> http://www.openssl.org/source/openssl-<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>e.tar.gz</span><br><span class="line"><span class="attribute">tar</span> zxvpf openssl-<span class="number">1</span>.<span class="number">0</span>.<span class="number">1</span>e.tar.gz</span><br></pre></td></tr></table></figure>

<p>然后下载最新的<a href="http://nginx.org/en/download.html">Nginx</a></p>
<p>先用 &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -V 这个是查看nginx安装了什么模块 安装的时候把这些都再加上</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">wget http:<span class="string">//nginx.org/download/nginx-1.7.2.tar.gz</span></span><br><span class="line">tar zxvf nginx-1.7.2.tar.gz</span><br><span class="line"><span class="keyword">cd</span> nginx-1.7.2</span><br><span class="line"><span class="string">./configure</span> <span class="params">--user=www</span> <span class="params">--group=www</span> <span class="params">--prefix=/usr/local/nginx</span> <span class="params">--with-http_stub_status_module</span> <span class="params">--with-http_ssl_module</span> <span class="params">--with-http_gzip_static_module</span> <span class="params">--with-ipv6</span> <span class="params">--with-pcre</span> <span class="params">--with-http_sub_module</span> <span class="params">--with-http_spdy_module</span> <span class="params">--with-openssl=/tmp/openssl-1</span>.0.1e</span><br><span class="line">mv <span class="string">/usr/local/nginx/sbin/nginx</span> <span class="string">/usr/local/nginx/sbin/nginx.old</span></span><br><span class="line">cp objs/nginx <span class="string">/usr/local/nginx/sbin/nginx</span></span><br><span class="line"><span class="string">/usr/local/nginx/sbin/nginx</span> -t</span><br><span class="line">make upgrade</span><br><span class="line"><span class="string">/usr/local/nginx/sbin/nginx</span> -v</span><br></pre></td></tr></table></figure>

<p>上面需要注意的是<code>./configure --with-http_ssl_module --with-http_spdy_module --with-openssl=/tmp/openssl-1.0.1e</code> 这是最小安装方法，你需要根据自己的配置安装，上面是lnmpa下面的。</p>
<p><code>--with-openssl=/tmp/openssl-1.0.1e</code> 路径就是刚下载的那个路径。</p>
<p>再配置完成后，执行 <code>/etc/init.d/nginx reload</code> 或 <code>/usr/local/nginx/sbin/nginx -s reload</code> 重载 Nginx 配置文件即可正常访问了。</p>
<p>如果你不想使用 SPDY ，记得修改Server里的 <code>listen 443 ssl spdy;</code> 改为 <code>listen 443 ssl;</code></p>
<p><strong>如何查看有没有启用SPDY成功没</strong></p>
<p>在Chrome浏览器里打开 chrome:&#x2F;&#x2F;net-internals&#x2F;#spdy 便能查看目前使用SPDY的连接。</p>
<p>或者使用插件查看， <a href="https://chrome.google.com/webstore/detail/spdy-indicator/mpbpobfflnpcgagjijhmgnchggcjblin">https://chrome.google.com/webstore/detail/spdy-indicator/mpbpobfflnpcgagjijhmgnchggcjblin</a></p>
<p><strong>补充：关于 “此网页包含的脚本来自于身份未经验证的源” 的提示信息</strong></p>
<p>出现这个一般是因为在网页内容中加载了其它不带https的内容，比如加载了google font, </p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link <span class="attribute">href</span>=<span class="string">&#x27;http://fonts.googleapis.com/css?family=Antic+Slab&#x27;</span> <span class="attribute">rel</span>=<span class="string">&#x27;stylesheet&#x27;</span> <span class="attribute">type</span>=<span class="string">&#x27;text/css&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>

<p>一般解决办法就是把资源下载到本地，然后使用相对路径，或者使用https的资源地址。<br>google 支持https连接，上面的情况你可以直接改为</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link <span class="attribute">href</span>=<span class="string">&#x27;https://fonts.googleapis.com/css?family=Antic+Slab&#x27;</span> <span class="attribute">rel</span>=<span class="string">&#x27;stylesheet&#x27;</span> <span class="attribute">type</span>=<span class="string">&#x27;text/css&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313864/lnmp%E4%B8%8Bnginx%E9%85%8D%E7%BD%AEssl%E5%AE%89%E5%85%A8%E8%AF%81%E4%B9%A6%E9%81%BF%E5%85%8D%E5%90%AF%E5%8A%A8%E8%BE%93%E5%85%A5enter-pem-pass-phrase/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313864/lnmp%E4%B8%8Bnginx%E9%85%8D%E7%BD%AEssl%E5%AE%89%E5%85%A8%E8%AF%81%E4%B9%A6%E9%81%BF%E5%85%8D%E5%90%AF%E5%8A%A8%E8%BE%93%E5%85%A5enter-pem-pass-phrase/" class="post-title-link" itemprop="url">lnmp下nginx配置ssl安全证书避免启动输入enter pem pass phrase</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-06-24 10:28:42" itemprop="dateCreated datePublished" datetime="2014-06-24T10:28:42+08:00">2014-06-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
    </span>

  
    <span id="/313864/lnmp%E4%B8%8Bnginx%E9%85%8D%E7%BD%AEssl%E5%AE%89%E5%85%A8%E8%AF%81%E4%B9%A6%E9%81%BF%E5%85%8D%E5%90%AF%E5%8A%A8%E8%BE%93%E5%85%A5enter-pem-pass-phrase/" class="post-meta-item leancloud_visitors" data-flag-title="lnmp下nginx配置ssl安全证书避免启动输入enter pem pass phrase" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313864/lnmp%E4%B8%8Bnginx%E9%85%8D%E7%BD%AEssl%E5%AE%89%E5%85%A8%E8%AF%81%E4%B9%A6%E9%81%BF%E5%85%8D%E5%90%AF%E5%8A%A8%E8%BE%93%E5%85%A5enter-pem-pass-phrase/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313864/lnmp%E4%B8%8Bnginx%E9%85%8D%E7%BD%AEssl%E5%AE%89%E5%85%A8%E8%AF%81%E4%B9%A6%E9%81%BF%E5%85%8D%E5%90%AF%E5%8A%A8%E8%BE%93%E5%85%A5enter-pem-pass-phrase/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>从Startssl免费申请到ssh证书后，把自己的一个网站搭建成了https网站。但是由于生成私钥key文件时输入了密码，导致每次重启nginx时都提示Enter PEM pass phrase ， 这样会导致自己VPS上的重启脚本无法自动工作，每次都要人工重启。</p>
<p>在网上搜索后找到了解决办法。</p>
<p>在key的目录执行：<code>openssl rsa -in server.key -out server.key.unsecure</code>  然后在配置文件里使用unsecure这个文件名就行了</p>
<p>修改后的nginx配置如下：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这里是SSL的相关配置</span></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">  <span class="attribute">listen</span> <span class="number">443</span>;</span><br><span class="line">  <span class="attribute">server_name</span> www.example.com; <span class="comment"># 你自己的域名</span></span><br><span class="line">  <span class="attribute">root</span> /home/wwwroot/www.example.com;</span><br><span class="line">  <span class="attribute">ssl</span> <span class="literal">on</span>;</span><br><span class="line">  <span class="attribute">ssl_certificate</span> /etc/ssl/certs/server.crt;</span><br><span class="line">  <span class="comment"># 修改下面这一行指向我们生成的server.key.unsecure文件</span></span><br><span class="line">  <span class="attribute">ssl_certificate_key</span> /etc/ssl/certs/server.key.unsecure;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后使用<code>/etc/init.d/nginx restart</code>重启Nginx.不提示便表示成功了。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313862/restful-api-%E8%AE%BE%E8%AE%A1%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313862/restful-api-%E8%AE%BE%E8%AE%A1%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/" class="post-title-link" itemprop="url">restful api 设计最佳实践</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-06-19 16:01:57" itemprop="dateCreated datePublished" datetime="2014-06-19T16:01:57+08:00">2014-06-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BD%AC%E8%BD%BD/" itemprop="url" rel="index"><span itemprop="name">转载</span></a>
        </span>
    </span>

  
    <span id="/313862/restful-api-%E8%AE%BE%E8%AE%A1%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/" class="post-meta-item leancloud_visitors" data-flag-title="restful api 设计最佳实践" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313862/restful-api-%E8%AE%BE%E8%AE%A1%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313862/restful-api-%E8%AE%BE%E8%AE%A1%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>目前互联网上充斥着大量的关于RESTful API（为方便，下文中“RESTful API ”简写为“API”）如何设计的文章，然而却没有一个”万能“的设计标准：如何鉴权？API 格式如何？你的API是否应该加入版本信息？当你开始写一个app的时候，特别是后端模型部分已经写完的时候，你不得不殚精竭虑的设计和实现自己app的public API部分。因为一旦发布，对外发布的API将会很难改变。</p>
<p>在给SupportedFu设计API的时候，我试图以实用的角度来解决上面提到的问题。我希望可以设计出容易使用，容易部署，并且足够灵活的API，本文因此而生。</p>
<h2 id="API设计的基本要求"><a href="#API设计的基本要求" class="headerlink" title="API设计的基本要求"></a>API设计的基本要求</h2><p>网上的很多关于API设计的观点都十分”学院派“，它们也许更有理论基础，但是有时却和现实世界脱轨（因此我是自由派）。所以我这篇文章的目标是从实践的角度出发，给出当前网络应用的API设计最佳实践（当然，是我认为的最佳了~），如果觉得不合适，我不会遵从标准。当然作为设计的基础，几个必须的原则还是要遵守的：</p>
<ol>
<li>当标准合理的时候遵守标准。</li>
<li>API应该对程序员友好，并且在浏览器地址栏容易输入。</li>
<li>API应该简单，直观，容易使用的同时优雅。</li>
<li>API应该具有足够的灵活性来支持上层ui。</li>
<li>API设计权衡上述几个原则。</li>
</ol>
<p>需要强调的是：API的就是程序员的UI，和其他UI一样，你必须仔细考虑它的用户体验！</p>
<h2 id="使用RESTful-URLs-和action"><a href="#使用RESTful-URLs-和action" class="headerlink" title="使用RESTful URLs 和action."></a>使用RESTful URLs 和action.</h2><p>虽然前面我说没有一个万能的API设计标准。但确实有一个被普遍承认和遵守：RESTfu设计原则。它被Roy Felding提出（在他的”基于网络的软件架构“论文中<a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm">第五章</a>）。而REST的核心原则是将你的API拆分为逻辑上的资源。这些资源通过http被操作（GET ,POST,PUT,DELETE）。</p>
<h2 id="那么我应该如何拆分出这些资源呢？"><a href="#那么我应该如何拆分出这些资源呢？" class="headerlink" title="那么我应该如何拆分出这些资源呢？"></a>那么我应该如何拆分出这些资源呢？</h2><p>显然从API用户的角度来看，”资源“应该是个名词。即使你的内部数据模型和资源已经有了很好的对应，API设计的时候你仍然不需要把它们一对一的都暴露出来。这里的关键是隐藏内部资源，暴露必需的外部资源。</p>
<p>在SupportFu里，资源是 ticket、user、group。</p>
<p>一旦定义好了要暴露的资源，你可以定义资源上允许的操作，以及这些操作和你的API的对应关系：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*   GET /tickets <span class="comment"># 获取ticket列表</span></span><br><span class="line">*   GET /tickets/12 <span class="comment"># 查看某个具体的ticket</span></span><br><span class="line">*   POST /tickets <span class="comment"># 新建一个ticket</span></span><br><span class="line">*   PUT /tickets/12 <span class="comment"># 更新ticket 12.</span></span><br><span class="line">*   DELETE /tickets/12 <span class="comment">#删除ticekt 12</span></span><br></pre></td></tr></table></figure>

<p>可以看出使用REST的好处在于可以充分利用http的强大实现对资源的CURD功能。而这里你只需要一个endpoint：&#x2F;tickets,再没有其他什么命名规则和url规则了，cool！</p>
<h2 id="这个endpoint的单数复数"><a href="#这个endpoint的单数复数" class="headerlink" title="这个endpoint的单数复数"></a>这个endpoint的单数复数</h2><p>一个可以遵从的规则是：虽然看起来使用复数来描述某一个资源实例看起来别扭，但是统一所有的endpoint，使用复数使得你的URL更加规整。这让API使用者更加容易理解，对开发者来说也更容易实现。</p>
<p>如何处理关联？关于如何处理资源之间的管理REST原则也有相关的描述：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">*   GET /tickets/12/messages- Retrieves list of messages <span class="keyword">for</span> ticket <span class="comment">#12</span></span><br><span class="line">*   GET /tickets/12/messages/5- Retrieves message <span class="comment">#5 for ticket #12</span></span><br><span class="line">*   POST /tickets/12/messages- Creates a new message <span class="keyword">in</span> ticket <span class="comment">#12</span></span><br><span class="line">*   PUT /tickets/12/messages/5- Updates message <span class="comment">#5 for ticket #12</span></span><br><span class="line">*   PATCH /tickets/12/messages/5- Partially updates message <span class="comment">#5 for ticket #12</span></span><br><span class="line">*   DELETE /tickets/12/messages/5- Deletes message <span class="comment">#5 for ticket #12</span></span><br></pre></td></tr></table></figure>

<p>其中，如果这种关联和资源独立，那么我们可以在资源的输出表示中保存相应资源的endpoint。然后API的使用者就可以通过点击链接找到相关的资源。如果关联和资源联系紧密。资源的输出表示就应该直接保存相应资源信息。（例如这里如果message资源是独立存在的，那么上面 GET &#x2F;tickets&#x2F;12&#x2F;messages就会返回相应message的链接；相反的如果message不独立存在，他和ticket依附存在，则上面的API调用返回直接返回message信息）</p>
<h2 id="不符合CURD的操作"><a href="#不符合CURD的操作" class="headerlink" title="不符合CURD的操作"></a>不符合CURD的操作</h2><p>对这个令人困惑的问题，下面是一些解决方法：</p>
<ol>
<li>重构你的行为action。当你的行为不需要参数的时候，你可以把active对应到activated这个资源，（更新使用patch）.</li>
<li>以子资源对待。例如:github上，对一个gists加星操作：PUT &#x2F;gists&#x2F;:id&#x2F;star 并且取消星操作：DELETE &#x2F;gists&#x2F;:id&#x2F;star.</li>
<li>有时候action实在没有难以和某个资源对应上例如search。那就这么办吧。我认为API的使用者对于&#x2F;search这种url也不会有太大意见的（毕竟他很容易理解）。只要注意在文档中写清楚就可以了。</li>
<li></li>
</ol>
<h2 id="永远使用SSL"><a href="#永远使用SSL" class="headerlink" title="永远使用SSL"></a>永远使用SSL</h2><p>毫无例外，永远都要使用SSL。你的应用不知道要被谁，以及什么情况访问。有些是安全的，有些不是。使用SSL可以减少鉴权的成本：你只需要一个简单的令牌（token）就可以鉴权了，而不是每次让用户对每次请求签名。</p>
<p>值得注意的是：不要让非SSL的url访问重定向到SSL的url。</p>
<h2 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h2><p>文档和API本身一样重要。文档应该容易找到，并且公开（把它们藏到pdf里面或者存到需要登录的地方都不太好）。文档应该有展示请求和输出的例子：或者以点击链接的方式或者通过curl的方式（请见openstack的文档）。如果有更新（特别是公开的API），应该及时更新文档。文档中应该有关于何时弃用某个API的时间表以及详情。使用邮件列表或者博客记录是好方法。</p>
<h2 id="版本化"><a href="#版本化" class="headerlink" title="版本化"></a>版本化</h2><p>在API上加入版本信息可以有效的防止用户访问已经更新了的API，同时也能让不同主要版本之间平稳过渡。关于是否将版本信息放入url还是放入请求头有过争论：<a href="http://stackoverflow.com/questions/389169/best-practices-for-API-versioning">API version should be included in the URL or in a header</a>. 学术界说它应该放到header里面去，但是如果放到url里面我们就可以跨版本的访问资源了。。（参考openstack）。</p>
<p>strip使用的方法就很好：它的url里面有主版本信息，同时请求头俩面有子版本信息。这样在子版本变化过程中url的稳定的。变化有时是不可避免的，关键是如何管理变化。完整的文档和合理的时间表都会使得API使用者使用的更加轻松。</p>
<h2 id="结果过滤，排序，搜索："><a href="#结果过滤，排序，搜索：" class="headerlink" title="结果过滤，排序，搜索："></a>结果过滤，排序，搜索：</h2><p>url最好越简短越好，和结果过滤，排序，搜索相关的功能都应该通过参数实现(并且也很容易实现)。</p>
<p>**过滤：**为所有提供过滤功能的接口提供统一的参数。例如：你想限制get &#x2F;tickets 的返回结果:只返回那些open状态的ticket–get &#x2F;tickektsstate&#x3D;open这里的state就是过滤参数。</p>
<p>**排序：**和过滤一样，一个好的排序参数应该能够描述排序规则，而不业务相关。复杂的排序规则应该通过组合实现：</p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">*   GET /ticketssort=-priority- Retrieves a list of tickets in descending order of priority</span></span><br><span class="line"><span class="comment">*   GET /ticketssort=-priority,created_at- Retrieves a list of tickets in descending order of priority. Within a specific priority, older tickets are ordered first</span></span><br></pre></td></tr></table></figure>

<p>这里第二条查询中，排序规则有多个rule以逗号间隔组合而成。</p>
<p>**搜索：**有些时候简单的排序是不够的。我们可以使用搜索技术（ElasticSearch和Lucene）来实现（依旧可以作为url的参数）。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*   GET /ticketsq=<span class="keyword">return</span>&amp;amp;state=<span class="keyword">open</span>&amp;amp;sort=-priority,created_at- Retrieve the highest priority <span class="keyword">open</span> tickets mentioning the word ‘<span class="keyword">return</span>’</span><br></pre></td></tr></table></figure>
<p>对于经常使用的搜索查询，我们可以为他们设立别名,这样会让API更加优雅。例如：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">get</span> /<span class="attribute">ticketsq</span>=recently_closed -&gt; <span class="built_in">get</span> /tickets/recently_closed.</span><br></pre></td></tr></table></figure>

<h2 id="限制API返回值的域"><a href="#限制API返回值的域" class="headerlink" title="限制API返回值的域"></a>限制API返回值的域</h2><p>有时候API使用者不需要所有的结果，在进行横向限制的时候（例如值返回API结果的前十项）还应该可以进行纵向限制。并且这个功能能有效的提高网络带宽使用率和速度。可以使用fields查询参数来限制返回的域例如：</p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /ticketsfields=id,subject,customer_name,updated_at&amp;amp;<span class="keyword">state</span>=open&amp;amp;sort=-updated_at</span><br></pre></td></tr></table></figure>

<h2 id="更新和创建操作应该返回资源"><a href="#更新和创建操作应该返回资源" class="headerlink" title="更新和创建操作应该返回资源"></a>更新和创建操作应该返回资源</h2><p>PUT、POST、PATCH 操作在对资源进行操作的时候常常有一些副作用：例如created_at,updated_at 时间戳。为了防止用户多次的API调用（为了进行此次的更新操作），我们应该会返回更新的资源（updated representation.）例如：在POST操作以后，返回201 created 状态码，并且包含一个指向新资源的url作为返回头</p>
<h2 id="是否需要-“HATEOAS”"><a href="#是否需要-“HATEOAS”" class="headerlink" title="是否需要 “HATEOAS”"></a>是否需要 “HATEOAS”</h2><p>网上关于是否允许用户创建新的url有很大的异议（注意不是创建资源产生的url）。为此REST制定了HATEOAS来描述了和endpoint进行交互的时候，行为应该在资源的metadata返回值里面进行定义。</p>
<p>（译注：作者这里认为HATEOAS还不算成熟，我也不怎么理解这段就算了，读者感兴趣可以自己去原文查看）</p>
<h2 id="只提供json作为返回格式"><a href="#只提供json作为返回格式" class="headerlink" title="只提供json作为返回格式"></a>只提供json作为返回格式</h2><p>现在开始比较一下XML和json了。XML即冗长，难以阅读，又不适合各种编程语言解析。当然XML有扩展性的优势，但是如果你只是将它来对内部资源串行化，那么他的扩展优势也发挥不出来。很多应用（youtube,twitter,box）都已经开始抛弃XML了，我也不想多费口舌。给了google上的趋势图吧：</p>
<p><img src="http://www.vinaysahni.com/images/201305-xml-vs-json-api.png"></p>
<p>当然如果的你使用用户里面企业用户居多，那么可能需要支持XML。如果是这样的话你还有另外一个问题：你的http请求中的media类型是应该和accept 头同步还是和url？为了方便（browser explorability）,应该是在url中(用户只要自己拼url就好了)。如果这样的话最好的方法是使用.xml或者.json的后缀。</p>
<h2 id="命名方式？"><a href="#命名方式？" class="headerlink" title="命名方式？"></a>命名方式？</h2><p>是蛇形命令（下划线和小写）还是驼峰命名？如果使用json那么最好的应该是遵守JAVASCRIPT的命名方法-也就是说骆驼命名法。如果你正在使用多种语言写一个库，那么最好按照那些语言所推荐的，java，c#使用骆驼，python，ruby使用snake。</p>
<p>个人意见：我总觉得蛇形命令更好使一些，当然这没有什么理论的依据。有人说蛇形命名读起来更快，能达到20%，也不知道真假<a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsptp=&amp;arnumber=5521745">http://ieeexplore.ieee.org/xpl/articleDetails.jsptp=&amp;arnumber=5521745</a></p>
<h2 id="默认使用pretty-print格式，使用gzip"><a href="#默认使用pretty-print格式，使用gzip" class="headerlink" title="默认使用pretty print格式，使用gzip"></a>默认使用pretty print格式，使用gzip</h2><p>只是使用空格的返回结果从浏览器上看总是觉得很恶心(一大坨有没有？～)。当然你可以提供url上的参数来控制使用“pretty print”，但是默认开启这个选项还是更加友好。格外的传输上的损失不会太大。相反你如果忘了使用gzip那么传输效率将会大大减少，损失大大增加。想象一个用户正在debug那么默认的输出就是可读的-而不用将结果拷贝到其他什么软件中在格式化-是想起来就很爽的事，不是么？</p>
<p>下面是一个例子:</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ curl <span class="keyword">https</span>://API.github.com/users/veesahni &gt; <span class="keyword">with</span>-whitespace.txt</span><br><span class="line">$ ruby -r json -e <span class="string">&#x27;puts JSON JSON.parse(STDIN.read)&#x27;</span> &lt; <span class="keyword">with</span>-whitespace.txt &gt; <span class="keyword">without</span>-whitespace.txt</span><br><span class="line">$ gzip -c <span class="keyword">with</span>-whitespace.txt &gt; <span class="keyword">with</span>-whitespace.txt.gz</span><br><span class="line">$ gzip -c <span class="keyword">without</span>-whitespace.txt &gt; <span class="keyword">without</span>-whitespace.txt.gz</span><br></pre></td></tr></table></figure>

<p>输出如下：</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*   <span class="keyword">without</span>-whitespace.txt- <span class="number">1252</span> <span class="keyword">bytes</span></span><br><span class="line">*   <span class="keyword">with</span>-whitespace.txt- <span class="number">1369</span> <span class="keyword">bytes</span></span><br><span class="line">*   <span class="keyword">without</span>-whitespace.txt.gz- <span class="number">496</span> <span class="keyword">bytes</span></span><br><span class="line">*   <span class="keyword">with</span>-whitespace.txt.gz- <span class="number">509</span> <span class="keyword">bytes</span></span><br></pre></td></tr></table></figure>

<p>在上面的例子中，多余的空格使得结果大小多出了8.5%（没有使用gzip），相反只多出了2.6%。据说：twitter使用gzip之后它的streaming API传输减少了80%（link:<a href="https://dev.twitter.com/blog/announcing-gzip-compression-streaming-APIs%EF%BC%89">https://dev.twitter.com/blog/announcing-gzip-compression-streaming-APIs）</a>.</p>
<h2 id="只在需要的时候使用“envelope”"><a href="#只在需要的时候使用“envelope”" class="headerlink" title="只在需要的时候使用“envelope”"></a>只在需要的时候使用“envelope”</h2><p>很多API象下面这样返回结果：</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;data&quot;</span> : &#123;</span><br><span class="line">    <span class="string">&quot;id&quot;</span> : 123,</span><br><span class="line">    <span class="string">&quot;name&quot;</span> : &quot;<span class="type">John</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<p>理由很简单：这样做可以很容易扩展返回结果，你可以加入一些分页信息，一些数据的元信息等－这对于那些不容易访问到返回头的API使用者来说确实有用，但是随着“标准”的发展（cors和<a href="http://tools.ietf.org/html/rfc5988#page-6%E9%83%BD%E5%BC%80%E5%A7%8B%E8%A2%AB%E5%8A%A0%E5%85%A5%E5%88%B0%E6%A0%87%E5%87%86%E4%B8%AD%E4%BA%86%EF%BC%89%EF%BC%8C%E6%88%91%E4%B8%AA%E4%BA%BA%E6%8E%A8%E8%8D%90%E4%B8%8D%E8%A6%81%E9%82%A3%E4%B9%88%E5%81%9A%E3%80%82">http://tools.ietf.org/html/rfc5988#page-6都开始被加入到标准中了），我个人推荐不要那么做。</a></p>
<h2 id="何时使用envelope？"><a href="#何时使用envelope？" class="headerlink" title="何时使用envelope？"></a>何时使用envelope？</h2><p>有两种情况是应该使用envelope的。如果API使用者确实无法访问返回头，或者API需要支持交叉域请求（通过jsonp）。</p>
<p>jsonp请求在请求的url中包含了一个callback函数参数。如果给出了这个参数，那么API应该返回200，并且把真正的状态码放到返回值里面（包装在信封里），例如：</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">callback_function(<span class="punctuation">&#123;</span></span><br><span class="line"><span class="symbol">  status_code:</span> <span class="number">200</span>,</span><br><span class="line"><span class="symbol">  next_page:</span> <span class="string">&quot;https://..&quot;</span>,</span><br><span class="line"><span class="symbol">  response:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    ... actual JSON response body ... </span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span>)</span><br></pre></td></tr></table></figure>
<p>同样为了支持无法方法返回头的API使用者，可以允许envelope&#x3D;true这样的参数。</p>
<h2 id="在post-put-patch上使用json作为输入"><a href="#在post-put-patch上使用json作为输入" class="headerlink" title="在post,put,patch上使用json作为输入"></a>在post,put,patch上使用json作为输入</h2><p>如果你认同我上面说的，那么你应该决定使用json作为所有的API输出格式，那么我们接下来考虑考虑API的输入数据格式。</p>
<p>很多的API使用url编码格式：就像是url查询参数的格式一样：单纯的键值对。这种方法简单有效，但是也有自己的问题：它没有数据类型的概念。这使得程序不得不根据字符串解析出布尔和整数,而且还没有层次结构–虽然有一些关于层次结构信息的约定存在可是和本身就支持层次结构的json比较一下还是不很好用。</p>
<p>当然如果API本身就很简单，那么使用url格式的输入没什么问题。但对于复杂的API你应该使用json。或者干脆统一使用json。</p>
<p>注意使用json传输的时候，要求请求头里面加入：Content-Type：application&#x2F;json.，否则抛出415异常（unsupported media type）。</p>
<h2 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h2><p>分页数据可以放到“信封”里面，但随着标准的改进，现在我推荐将分页信息放到link header里面：<a href="http://tools.ietf.org/html/rfc5988#page-6%E3%80%82">http://tools.ietf.org/html/rfc5988#page-6。</a></p>
<p>使用link header的API应该返回一系列组合好了的url而不是让用户自己再去拼。这点在基于游标的分页中尤为重要。例如下面，来自github的文档</p>
<figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Link</span>: &lt;https://api.github.com/user/repos?<span class="keyword">page</span>=3<span class="variable">&amp;amp</span>;per_page=100&gt;; rel=<span class="string">&quot;next&quot;</span>, </span><br><span class="line">&lt;https://api.github.com/user/repos?<span class="keyword">page</span>=50<span class="variable">&amp;amp</span>;per_page=100&gt;; rel=<span class="string">&quot;last&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="自动加载相关的资源"><a href="#自动加载相关的资源" class="headerlink" title="自动加载相关的资源"></a>自动加载相关的资源</h2><p>很多时候，自动加载相关资源非常有用，可以很大的提高效率。但是这却<a href="http://idbentley.com/blog/2013/03/14/should-restful-apis-include-relationships/">和RESTful的原则相背</a>。为了如此，我们可以在url中添加参数：embed（或者expend）。embed可以是一个逗号分隔的串，例如：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">GET</span> /ticket/<span class="attribute">12embed</span>=customer.name,assigned_user</span><br></pre></td></tr></table></figure>


<p>对应的API返回值如下：</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;id&quot;</span> : 12,</span><br><span class="line">  <span class="string">&quot;subject&quot;</span> : &quot;<span class="type">I</span> have a question!<span class="string">&quot;,</span></span><br><span class="line"><span class="string">  &quot;</span>summary<span class="string">&quot; : &quot;</span>Hi, ....<span class="string">&quot;,</span></span><br><span class="line"><span class="string">  &quot;</span>customer<span class="string">&quot; : &#123;</span></span><br><span class="line"><span class="string">    &quot;</span>name<span class="string">&quot; : &quot;</span>Bob<span class="string">&quot;</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string">  assigned_user: &#123;</span></span><br><span class="line"><span class="string">   &quot;</span>id<span class="string">&quot; : 42,</span></span><br><span class="line"><span class="string">   &quot;</span>name<span class="string">&quot; : &quot;</span>Jim<span class="string">&quot;,</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p>值得提醒的是，这个功能有时候会很复杂，并且可能导致<a href="http://stackoverflow.com/questions/97197/what-is-the-n1-selects-issue">N+1 SELECT 问题</a>。</p>
<h2 id="重写HTTP方法"><a href="#重写HTTP方法" class="headerlink" title="重写HTTP方法"></a>重写HTTP方法</h2><p>有的客户端只能发出简单的GET 和POST请求。为了照顾他们，我们可以重写HTTP请求。这里没有什么标准，但是一个普遍的方式是接受X-HTTP-Method-Override请求头。</p>
<h2 id="速度限制"><a href="#速度限制" class="headerlink" title="速度限制"></a>速度限制</h2><p>为了避免请求泛滥，给API设置速度限制很重要。为此 <a href="http://tools.ietf.org/html/rfc6585">RFC 6585</a> 引入了HTTP状态码<a href="http://tools.ietf.org/html/rfc6585#section-4">429（too many requests）</a>。加入速度设置之后，应该提示用户，至于如何提示标准上没有说明，不过流行的方法是使用HTTP的返回头。</p>
<p>下面是几个必须的返回头（依照twitter的命名规则）：</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*   X-Rate-<span class="keyword">Limit</span>-<span class="keyword">Limit</span> :当前时间段允许的并发请求数</span><br><span class="line">*   X-Rate-<span class="keyword">Limit</span>-Remaining:当前时间段保留的请求数。</span><br><span class="line">*   X-Rate-<span class="keyword">Limit</span>-<span class="keyword">Reset</span>:当前时间段剩余秒数</span><br></pre></td></tr></table></figure>

<p><strong>为什么使用当前时间段剩余秒数而不是时间戳？</strong></p>
<p>时间戳保存的信息很多，但是也包含了很多不必要的信息，用户只需要知道还剩几秒就可以再发请求了这样也避免了<a href="http://en.wikipedia.org/wiki/Clock_skew">clock skew问题</a>。</p>
<p>有些API使用UNIX格式时间戳，我建议不要那么干。为什么？HTTP 已经规定了使用 <a href="http://www.ietf.org/rfc/rfc1123.txt">RFC 1123</a> 时间格式</p>
<h2 id="鉴权-Authentication"><a href="#鉴权-Authentication" class="headerlink" title="鉴权 Authentication"></a>鉴权 Authentication</h2><p>restful API是无状态的也就是说用户请求的鉴权和cookie以及session无关，每一次请求都应该包含鉴权证明。</p>
<p>通过使用ssl我们可以不用每次都提供用户名和密码：我们可以给用户返回一个随机产生的token。这样可以极大的方便使用浏览器访问API的用户。这种方法适用于用户可以首先通过一次用户名-密码的验证并得到token，并且可以拷贝返回的token到以后的请求中。如果不方便，可以使用OAuth 2来进行token的安全传输。</p>
<p>支持jsonp的API需要额外的鉴权方法，因为jsonp请求无法发送普通的credential。这种情况下可以在查询url中添加参数：access_token。注意使用url参数的问题是：目前大部分的网络服务器都会讲query参数保存到服务器日志中，这可能会成为大的安全风险。</p>
<p>注意上面说到的只是三种传输token的方法，实际传输的token可能是一样的。</p>
<h2 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h2><p>HTTP提供了自带的缓存框架。你需要做的是在返回的时候加入一些返回头信息，在接受输入的时候加入输入验证。基本两种方法：</p>
<p>**ETag：**当生成请求的时候，在HTTP头里面加入ETag，其中包含请求的校验和和哈希值，这个值和在输入变化的时候也应该变化。如果输入的HTTP请求包含IF-NONE-MATCH头以及一个ETag值，那么API应该返回304 not modified状态码，而不是常规的输出结果。</p>
<p>**Last-Modified：**和etag一样，只是多了一个时间戳。返回头里的Last-Modified：包含了 <a href="http://www.ietf.org/rfc/rfc1123.txt">RFC 1123</a> 时间戳，它和IF-MODIFIED-SINCE一致。HTTP规范里面有三种date格式，服务器应该都能处理。</p>
<h2 id="出错处理"><a href="#出错处理" class="headerlink" title="出错处理"></a>出错处理</h2><p>就像html错误页面能够显示错误信息一样，API 也应该能返回可读的错误信息–它应该和一般的资源格式一致。API应该始终返回相应的状态码，以反映服务器或者请求的状态。API的错误码可以分为两部分，400系列和500系列，400系列表明客户端错误：如错误的请求格式等。500系列表示服务器错误。API应该至少将所有的400系列的错误以json形式返回。如果可能500系列的错误也应该如此。json格式的错误应该包含以下信息：一个有用的错误信息，一个唯一的错误码，以及任何可能的详细错误描述。如下：</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;code&quot;</span> : 1234,</span><br><span class="line">  <span class="string">&quot;message&quot;</span> : &quot;<span class="type">Something</span> bad happened :-(<span class="string">&quot;,</span></span><br><span class="line"><span class="string">  &quot;</span>description<span class="string">&quot; : &quot;</span>More details about the error here<span class="string">&quot;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p>对PUT,POST,PATCH的输入的校验也应该返回相应的错误信息，例如：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;<span class="selector-tag">code</span>&quot; : <span class="number">1024</span>,</span><br><span class="line">  <span class="string">&quot;message&quot;</span> : <span class="string">&quot;Validation Failed&quot;</span>,</span><br><span class="line">  <span class="string">&quot;errors&quot;</span> : [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;<span class="selector-tag">code</span>&quot; : <span class="number">5432</span>,</span><br><span class="line">      <span class="string">&quot;field&quot;</span> : <span class="string">&quot;first_name&quot;</span>,</span><br><span class="line">      <span class="string">&quot;message&quot;</span> : <span class="string">&quot;First name cannot have fancy characters&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">       &quot;<span class="selector-tag">code</span>&quot; : <span class="number">5622</span>,</span><br><span class="line">       <span class="string">&quot;field&quot;</span> : <span class="string">&quot;password&quot;</span>,</span><br><span class="line">       <span class="string">&quot;message&quot;</span> : <span class="string">&quot;Password cannot be blank&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="HTTP-状态码"><a href="#HTTP-状态码" class="headerlink" title="HTTP 状态码"></a>HTTP 状态码</h2><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">200 </span>ok  - 成功返回状态，对应，<span class="keyword">GET</span>,<span class="keyword">PUT</span>,PATCH,<span class="keyword">DELETE</span>.</span><br><span class="line"><span class="symbol">201 </span>created  - 成功创建。</span><br><span class="line"><span class="symbol">304 </span><span class="keyword">not</span> modified   - HTTP缓存有效。</span><br><span class="line"><span class="symbol">400 </span>bad request   - 请求格式错误。</span><br><span class="line"><span class="symbol">401 </span>unauthorized   - 未授权。</span><br><span class="line"><span class="symbol">403 </span>forbidden   - 鉴权成功，但是该用户没有权限。</span><br><span class="line"><span class="symbol">404 </span><span class="keyword">not</span> found - 请求的资源不存在</span><br><span class="line"><span class="symbol">405 </span>method <span class="keyword">not</span> allowed - 该http方法不被允许。</span><br><span class="line"><span class="symbol">410 </span>gone - 这个url对应的资源现在不可用。</span><br><span class="line"><span class="symbol">415 </span>unsupported media type - 请求类型错误。</span><br><span class="line"><span class="symbol">422 </span>unprocessable entity - 校验错误时用。</span><br><span class="line"><span class="symbol">429 </span>too many request - 请求过多。</span><br></pre></td></tr></table></figure>

<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>原文链接：<a href="http://www.vinaysahni.com/best-practices-for-a-pragmatic-restful-api">Vinay Sahni</a>，编译：感谢<a href="http://www.jobbole.com/members/bruce-accumulate/">@bruce-accumulate</a> 的热心翻译</p>
<p>译文链接：<a href="http://blog.jobbole.com/41233/">http://blog.jobbole.com/41233/</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313851/github-page%E7%BB%91%E5%AE%9A%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313851/github-page%E7%BB%91%E5%AE%9A%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D/" class="post-title-link" itemprop="url">Github Page绑定二级域名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-06-16 09:20:14" itemprop="dateCreated datePublished" datetime="2014-06-16T09:20:14+08:00">2014-06-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
        </span>
    </span>

  
    <span id="/313851/github-page%E7%BB%91%E5%AE%9A%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D/" class="post-meta-item leancloud_visitors" data-flag-title="Github Page绑定二级域名" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313851/github-page%E7%BB%91%E5%AE%9A%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313851/github-page%E7%BB%91%E5%AE%9A%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Github Page绑定二级域名或者顶级域名，需要做两件事，一个是在github page下面创建 CNAME文件，一个就是设置你的DNS。</p>
<h2 id="CNAME"><a href="#CNAME" class="headerlink" title="CNAME"></a>CNAME</h2><p>创建一个CNAME文件，内容是你的域名，如：<br>domain.org<br>然后把此文件添加到Github仓库，上传到Github。Github服务器会设置domain.org为你的主域名，然后将<a href="http://www.domain.org和demo.github.com重定向到domain.org./">www.domain.org和demo.github.com重定向到domain.org。</a></p>
<p>有一个在线的编辑器  <a href="http://prose.io/">http://prose.io/</a> 使用它可以在线修改你的github page，非常方便，适合不会使用命令的同学。</p>
<p>如果是想绑定二级域名，上面的设置还是不够的，比如你想把二级域名sub.domain.org 绑定到 demo.github.com ，你需要在CNAME文件里加上sub.demo.org</p>
<h2 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h2><p>登陆你的域名管理界面。创建一条A记录，指向207.97.227.245这个IP地址。<br>以<code>sub.domain.org</code>为博客域名，指向Github Page。<br>需要做的设置：</p>
<ul>
<li>创建CNAME文件，内容为<code>sub.domain.org</code>。</li>
<li>登陆域名管理，创建CNAME记录，sub -&gt; <code>demo.github.com</code>。</li>
</ul>
<p>Github作免费空间有300M的空间限制 。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313847/%E5%98%BF%EF%BC%8C%E9%82%A3%E4%B8%AA%E4%B8%8A%E4%BA%86%E4%B8%89%E5%A4%A9%E7%8F%AD%E5%B0%B1%E8%BE%9E%E8%81%8C%E7%9A%84%E5%B9%B4%E8%BD%BB%E4%BA%BA%EF%BC%8C%E6%88%91%E6%83%B3%E5%92%8C%E4%BD%A0%E8%B0%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313847/%E5%98%BF%EF%BC%8C%E9%82%A3%E4%B8%AA%E4%B8%8A%E4%BA%86%E4%B8%89%E5%A4%A9%E7%8F%AD%E5%B0%B1%E8%BE%9E%E8%81%8C%E7%9A%84%E5%B9%B4%E8%BD%BB%E4%BA%BA%EF%BC%8C%E6%88%91%E6%83%B3%E5%92%8C%E4%BD%A0%E8%B0%88/" class="post-title-link" itemprop="url">嘿，那个上了三天班就辞职的年轻人，我想和你谈</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-06-14 09:56:54" itemprop="dateCreated datePublished" datetime="2014-06-14T09:56:54+08:00">2014-06-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BD%AC%E8%BD%BD/" itemprop="url" rel="index"><span itemprop="name">转载</span></a>
        </span>
    </span>

  
    <span id="/313847/%E5%98%BF%EF%BC%8C%E9%82%A3%E4%B8%AA%E4%B8%8A%E4%BA%86%E4%B8%89%E5%A4%A9%E7%8F%AD%E5%B0%B1%E8%BE%9E%E8%81%8C%E7%9A%84%E5%B9%B4%E8%BD%BB%E4%BA%BA%EF%BC%8C%E6%88%91%E6%83%B3%E5%92%8C%E4%BD%A0%E8%B0%88/" class="post-meta-item leancloud_visitors" data-flag-title="嘿，那个上了三天班就辞职的年轻人，我想和你谈" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313847/%E5%98%BF%EF%BC%8C%E9%82%A3%E4%B8%AA%E4%B8%8A%E4%BA%86%E4%B8%89%E5%A4%A9%E7%8F%AD%E5%B0%B1%E8%BE%9E%E8%81%8C%E7%9A%84%E5%B9%B4%E8%BD%BB%E4%BA%BA%EF%BC%8C%E6%88%91%E6%83%B3%E5%92%8C%E4%BD%A0%E8%B0%88/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313847/%E5%98%BF%EF%BC%8C%E9%82%A3%E4%B8%AA%E4%B8%8A%E4%BA%86%E4%B8%89%E5%A4%A9%E7%8F%AD%E5%B0%B1%E8%BE%9E%E8%81%8C%E7%9A%84%E5%B9%B4%E8%BD%BB%E4%BA%BA%EF%BC%8C%E6%88%91%E6%83%B3%E5%92%8C%E4%BD%A0%E8%B0%88/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>上周招聘了一个年轻人。面试的时候，很有热情，准备充分，对公司也做了研究，连对话提问，明显也是之前有所排练的，总而言之，看起来是一个做事很认真的小伙子。</p>
<p>他说：我觉得，这就是我想要的公司和文化，这就是我喜欢的工作！<br>这个小伙子戴着黑框眼镜，说这话的时候，一副理想主义者的激情神态。</p>
<p>坦白说，我被这种神态打动了。<br>我想，也许工作充满繁杂无聊，但只有这种激情，才能造就卓越。</p>
<p>后来我又看了一下作品，觉得底子不错。决定录用。<br>很快HR给他发了OFFER。第二周就来上班了。</p>
<p>几天后，他给主管发了一条短信，说自己不喜欢这个工作。发短信第二天，他就不来了。连离职手续都没办。</p>
<p>主管跟我说起时，我还很惊诧。“这不可能吧？”<br>我觉得这种轻率行为，完全不像是那个年轻人该有的。</p>
<p>我很想和他谈谈，给他发了条短信。没回复。我准备给他拨个电话，但转念一想，又觉得没这个必要。</p>
<p>就算打通电话了，我想跟他谈什么呢？</p>
<p>劝他继续来公司？——不，我不会再要他了。这样的年轻人，我也不敢要。<br>跟他谈什么是“责任”？——都是成年人，也挺没意思。<br>谈“喜欢”和“工作”的关系？——我不是稻盛和夫，我说不出“与其找喜欢的工作，不如喜欢上手头的工作”这种话。</p>
<p>想来想去，我想给他讲讲我自己的故事。</p>
<p>我想说说，7年前的自己。</p>
<p>那时我大学还没毕业，在一家影视广告公司做脚本文案。写脚本很辛苦，影视广告也并不有趣。跟我之前的想象完全不同。</p>
<p>恰好异地恋的女友来找我。有一天，我跟老板连招呼都没打，跟行政说了一声我不干了，收拾东西就走了。</p>
<p>手机关机，跟女友过了几天与世隔绝、幸福快乐、没心没肺的日子，我突然觉得该给公司一个交代，于是硬着头皮去公司，找老板谈谈。</p>
<p>恰巧，在公司电梯口见到老板，带着一群人，扛着大小设备，急匆匆出去外拍。老板见到我，愣了一下，指着我说：等我，回来再跟你说。</p>
<p>我吓坏了。这个老板平时脾气就大，这下还不得把我训死？</p>
<p>我在公司提心吊胆等了一个小时。我看着公司其他人忙碌喧哗，根本顾不上理我。难堪之极。</p>
<p>我找了张纸，写了一封长信，放在前台。算是交代了一下。</p>
<p>总之，我是落荒而逃。</p>
<p>这就是我职业生涯的开始。一个不光彩的、污点般的开始。</p>
<p>我想找那个年轻人，聊聊这件事。</p>
<p>我想告诉他，这件事成为我后来久久无法磨去的尴尬，心灵上的痒痕。</p>
<p>在那之后，我经常在洗澡的时候会突然想起自己落荒而逃的身影，内心奇痒无比，忍不住要狂嚎两嗓子才能疏解。</p>
<p>后来，我正式进入广告传播行业，在一家本土创意公司做了3年，后跟总监出来创业，到今年是第4年。</p>
<p>2012年的时候，机缘巧合，我又见到了当初那家影视公司的老板。</p>
<p>毕竟事过多年，我已经有了一颗平常心，能够跟人家主动打招呼了。他还记得我，很热情的跟我握手，问我近况，称赞我“有才华”，看上去一点也记不起来当初在电梯口的尴尬相遇。</p>
<p>我们一起吃了个饭，相约以后有机会合作。</p>
<p>此后，我们再也没有见过。</p>
<p>那次见面之后，我彻底原谅了自己。我也明白了一件事——几乎所有你认为尴尬的事，都只有你自己记得。别人早已忘却或不放在心上，只有你自己，当成久久无法消逝的“心头之痒”。</p>
<p>回望过去，我那个时候，很喜欢王小波。王小波有一篇文章，叫《工作与人生》。我当时读了没什么大的感受，比不上读《一只特立独行的猪》这么过瘾。<br>但现在回过头再看，这篇文章简直每一个字都写进了我的心里。</p>
<p>其中有三句，犹得我心：</p>
<blockquote>
<p>**第一句是：“人从工作中可以得到乐趣，这是一种巨大的好处。”</p>
<p>第二句是：“总而言之，干什么都是好的；但要干出个样子来，这才是人的价值和尊严所在。”</p>
<p>第三句是：“人在工作时，不单要用到手、腿和腰，还要用脑子和自己的心胸。”**</p>
</blockquote>
<p>不知不觉，我发现自己在面对工作时，态度与自己的人生偶像完全一致了。这让我感到振奋。<br>仿佛我经历了一次连自己都未察觉的修炼。如今已经印证，修为在身，境界如常。</p>
<p>而这种面对工作的态度和认知，是从什么时候开始的呢？就是从那段难堪的起点开始的，从那久久无法消散的心头之痒开始的。<br>那段难堪的经历，以及后来不断的自我反省，以及多年来全心投入工作的历练，使我重新认识了“工作”这件事。以及我应该如何对待“工作”。</p>
<p>是的。假如我有机会再见到那个年轻人，我会跟他谈谈以上这些。</p>
<p>原文： <a href="http://jianshu.io/p/6ff3d4113be6">http://jianshu.io/p/6ff3d4113be6</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313842/bash-shell%E4%B8%AD%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%80%89%E9%A1%B9%E5%8F%82%E6%95%B0%E5%A4%84%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313842/bash-shell%E4%B8%AD%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%80%89%E9%A1%B9%E5%8F%82%E6%95%B0%E5%A4%84%E7%90%86/" class="post-title-link" itemprop="url">bash shell中命令行选项参数处理</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-06-10 15:42:17" itemprop="dateCreated datePublished" datetime="2014-06-10T15:42:17+08:00">2014-06-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BD%AC%E8%BD%BD/" itemprop="url" rel="index"><span itemprop="name">转载</span></a>
        </span>
    </span>

  
    <span id="/313842/bash-shell%E4%B8%AD%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%80%89%E9%A1%B9%E5%8F%82%E6%95%B0%E5%A4%84%E7%90%86/" class="post-meta-item leancloud_visitors" data-flag-title="bash shell中命令行选项参数处理" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313842/bash-shell%E4%B8%AD%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%80%89%E9%A1%B9%E5%8F%82%E6%95%B0%E5%A4%84%E7%90%86/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313842/bash-shell%E4%B8%AD%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%80%89%E9%A1%B9%E5%8F%82%E6%95%B0%E5%A4%84%E7%90%86/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>写程序的时候经常要处理命令行参数，本文描述在Bash下的命令行处理方式。</p>
<p>选项与参数：</p>
<p>如下一个命令行：</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./<span class="keyword">test</span>.<span class="keyword">sh</span> -f config.<span class="keyword">conf</span> -v --prefix=/home</span><br></pre></td></tr></table></figure>

<p>我们称-f为选项，它需要一个参数，即config.conf, -v 也是一个选项，但它不需要参数。</p>
<p>–prefix我们称之为一个长选项，即选项本身多于一个字符，它也需要一个参数，用等号连接，当然等号不是必须的，&#x2F;home可以直接写在–prefix后面，即–prefix&#x2F;home,更多的限制后面具体会讲到。<br>在bash中，可以用以下三种方式来处理命令行参数，每种方式都有自己的应用场景。</p>
<ul>
<li>手工处理方式</li>
<li>getopts</li>
<li>getopt</li>
</ul>
<p>下面我们依次讨论这三种处理方式。</p>
<h2 id="手工处理方式"><a href="#手工处理方式" class="headerlink" title="手工处理方式"></a>手工处理方式</h2><p>在手工处理方式中，首先要知道几个变量，还是以上面的命令行为例：</p>
<ul>
<li>$0 ： .&#x2F;test.sh,即命令本身，相当于C&#x2F;C++中的argv[0]</li>
<li>$1 ： -f,第一个参数.</li>
<li>$2 ： config.conf</li>
<li>$3, $4 … ：类推。</li>
<li>$# 参数的个数，不包括命令本身，上例中$#为4.</li>
<li>$@ ：参数本身的列表，也不包括命令本身，如上例为 -f config.conf -v –prefix&#x3D;&#x2F;home</li>
<li>$* ：和$@相同，但”$<em>“ 和 “$@”(加引号)并不同，”$</em>“将所有的参数解释成一个字符串，而”$@”是一个参数数组。如下例所示：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> arg <span class="keyword">in</span> <span class="string">&quot;$*&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$arg</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> arg <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$arg</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p>执行<code>./test.sh -f config.conf -n 10</code> 会打印：</p>
<figure class="highlight ldif"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">-</span>f config.conf -n 10 <span class="comment">#这是&quot;$*&quot;的输出</span></span><br><span class="line"></span><br><span class="line"><span class="literal">-</span>f <span class="comment">#以下为$@的输出</span></span><br><span class="line"></span><br><span class="line">config.conf</span><br><span class="line"></span><br><span class="line"><span class="literal">-</span>n</span><br><span class="line"></span><br><span class="line">10</span><br></pre></td></tr></table></figure>

<p>所以，手工处理的方式即对这些变量的处理。因为手工处理高度依赖于你在命令行上所传参数的位置，所以一般都只用来处理较简单的参数。如</p>
<p><code>./test.sh 10</code></p>
<p>而很少使用.&#x2F;test -n 10这种带选项的方式。 典型用法为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ x<span class="variable">$1</span> != x ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="comment">#...有参数</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="comment">#...没有参数</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<p>为什么要使用 <code>x$1 != x </code>这种方式来比较呢？想像一下这种方式比较：</p>
<p><code>if [ -n $1 ] #$1</code> 不为空</p>
<p>但如果用户不传参数的时候，$1为空，这时 就会变成 [ -n ] ,所以需要加一个辅助字符串来进行比较。</p>
<p>手工处理方式能满足大多数的简单需求，配合shift使用也能构造出强大的功能，但在要处理复杂选项的时候建议用下面的两种方法。</p>
<h2 id="getopts-getopt"><a href="#getopts-getopt" class="headerlink" title="getopts&#x2F;getopt"></a>getopts&#x2F;getopt</h2><p>处理命令行参数是一个相似而又复杂的事情，为此，C提供了getopt&#x2F;getopt_long等函数，<br>C++的boost提供了Options库，在shell中，处理此事的是getopts和getopt.</p>
<p>getopts和getopt功能相似但又不完全相同，其中getopt是独立的可执行文件，而getopts是由Bash内置的。</p>
<p>先来看看参数传递的典型用法:</p>
<ul>
<li>.&#x2F;test.sh -a -b -c ： 短选项，各选项不需参数</li>
<li>.&#x2F;test.sh -abc ： 短选项，和上一种方法的效果一样，只是将所有的选项写在一起。</li>
<li>.&#x2F;test.sh -a args -b -c ：短选项，其中-a需要参数，而-b -c不需参数。</li>
<li>.&#x2F;test.sh –a-long&#x3D;args –b-long ：长选项</li>
</ul>
<p>我们先来看getopts,它不支持长选项。</p>
<p>使用getopts非常简单：<br>代码</p>
<p>#test.sh</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="built_in">getopts</span> <span class="string">&quot;a:bc&quot;</span> arg <span class="comment">#选项后面的冒号表示该选项需要参数</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">        <span class="keyword">case</span> <span class="variable">$arg</span> <span class="keyword">in</span></span><br><span class="line">             a)</span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;a&#x27;s arg:<span class="variable">$OPTARG</span>&quot;</span> <span class="comment">#参数存在$OPTARG中</span></span><br><span class="line">                ;;</span><br><span class="line">             b)</span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;b&quot;</span></span><br><span class="line">                ;;</span><br><span class="line">             c)</span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;c&quot;</span></span><br><span class="line">                ;;</span><br><span class="line">             ?)  <span class="comment">#当有不认识的选项的时候arg为?</span></span><br><span class="line">            <span class="built_in">echo</span> <span class="string">&quot;unkonw argument&quot;</span></span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">        ;;</span><br><span class="line">        <span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p>现在就可以使用：<br><code>./test.sh -a arg -b -c</code><br>或<br><code>./test.sh -a arg -bc</code><br>来加载了。</p>
<p>应该说绝大多数脚本使用该函数就可以了，如果需要支持长选项以及可选参数，那么就需要使用getopt.<br>下面是getopt自带的一个例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A small example program for using the new getopt(1) program.</span></span><br><span class="line"><span class="comment"># This program will only work with bash(1)</span></span><br><span class="line"><span class="comment"># An similar program using the tcsh(1) script language can be found</span></span><br><span class="line"><span class="comment"># as parse.tcsh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Example input and output (from the bash prompt):</span></span><br><span class="line"><span class="comment"># ./parse.bash -a par1 &#x27;another arg&#x27; --c-long &#x27;wow!*\?&#x27; -cmore -b &quot; very long &quot;</span></span><br><span class="line"><span class="comment"># Option a</span></span><br><span class="line"><span class="comment"># Option c, no argument</span></span><br><span class="line"><span class="comment"># Option c, argument `more&#x27;</span></span><br><span class="line"><span class="comment"># Option b, argument ` very long &#x27;</span></span><br><span class="line"><span class="comment"># Remaining arguments:</span></span><br><span class="line"><span class="comment"># --&amp;gt; `par1&#x27;</span></span><br><span class="line"><span class="comment"># --&amp;gt; `another arg&#x27;</span></span><br><span class="line"><span class="comment"># --&amp;gt; `wow!*\?&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Note that we use `&quot;$@&quot;&#x27; to let each command-line parameter expand to a</span></span><br><span class="line"><span class="comment"># separate word. The quotes around `$@&#x27; are essential!</span></span><br><span class="line"><span class="comment"># We need TEMP as the `eval set --&#x27; would nuke the return value of getopt.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#-o表示短选项，两个冒号表示该选项有一个可选参数，可选参数必须紧贴选项</span></span><br><span class="line"><span class="comment">#如-carg 而不能是-c arg</span></span><br><span class="line"><span class="comment">#--long表示长选项</span></span><br><span class="line"><span class="comment">#&quot;$@&quot;在上面解释过</span></span><br><span class="line"><span class="comment"># -n:出错时的信息</span></span><br><span class="line"><span class="comment"># -- ：举一个例子比较好理解：</span></span><br><span class="line"><span class="comment">#我们要创建一个名字为 &quot;-f&quot;的目录你会怎么办？</span></span><br><span class="line"><span class="comment"># mkdir -f #不成功，因为-f会被mkdir当作选项来解析，这时就可以使用</span></span><br><span class="line"><span class="comment"># mkdir -- -f 这样-f就不会被作为选项。</span></span><br><span class="line"></span><br><span class="line">TEMP=`getopt -o ab:c:: --long a-long,b-long:,c-long:: \</span><br><span class="line">     -n <span class="string">&#x27;example.bash&#x27;</span> -- <span class="string">&quot;<span class="variable">$@</span>&quot;</span>`</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ $? != 0 ] ; <span class="keyword">then</span> <span class="built_in">echo</span> <span class="string">&quot;Terminating...&quot;</span> &amp;gt;&amp;amp;2 ; <span class="built_in">exit</span> 1 ; <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Note the quotes around `$TEMP&#x27;: they are essential!</span></span><br><span class="line"><span class="comment">#set 会重新排列参数的顺序，也就是改变$1,$2...$n的值，这些值在getopt中重新排列过了</span></span><br><span class="line"><span class="built_in">eval</span> <span class="built_in">set</span> -- <span class="string">&quot;<span class="variable">$TEMP</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#经过getopt的处理，下面处理具体选项。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">true</span> ; <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;<span class="variable">$1</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">                -a|--a-long) <span class="built_in">echo</span> <span class="string">&quot;Option a&quot;</span> ; <span class="built_in">shift</span> ;;</span><br><span class="line">                -b|--b-long) <span class="built_in">echo</span> <span class="string">&quot;Option b, argument \`<span class="variable">$2</span>&#x27;&quot;</span> ; <span class="built_in">shift</span> 2 ;;</span><br><span class="line">                -c|--c-long)</span><br><span class="line">                        <span class="comment"># c has an optional argument. As we are in quoted mode,</span></span><br><span class="line">                        <span class="comment"># an empty parameter will be generated if its optional</span></span><br><span class="line">                        <span class="comment"># argument is not found.</span></span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;<span class="variable">$2</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">                                <span class="string">&quot;&quot;</span>) <span class="built_in">echo</span> <span class="string">&quot;Option c, no argument&quot;</span>; <span class="built_in">shift</span> 2 ;;</span><br><span class="line">                                *)  <span class="built_in">echo</span> <span class="string">&quot;Option c, argument \`<span class="variable">$2</span>&#x27;&quot;</span> ; <span class="built_in">shift</span> 2 ;;</span><br><span class="line">                        <span class="keyword">esac</span> ;;</span><br><span class="line">                --) <span class="built_in">shift</span> ; <span class="built_in">break</span> ;;</span><br><span class="line">                *) <span class="built_in">echo</span> <span class="string">&quot;Internal error!&quot;</span> ; <span class="built_in">exit</span> 1 ;;</span><br><span class="line">        <span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Remaining arguments:&quot;</span></span><br><span class="line"><span class="keyword">for</span> arg <span class="keyword">do</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">&#x27;--&amp;gt; &#x27;</span><span class="string">&quot;\`<span class="variable">$arg</span>&#x27;&quot;</span> ;</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p>比如我们使用</p>
<p><code>./test -a  -b arg arg1 -c</code></p>
<p>你可以看到,命令行中多了个arg1参数，在经过getopt和set之后，命令行会变为：<br><code>-a -b arg -c -- arg1</code><br>$1指向-a,$2指向-b,$3指向arg,$4指向-c,$5指向–,而多出的arg1则被放到了最后。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>一般小脚本手工处理也许就够了，getopts能处理绝大多数的情况，getopt较复杂，功能也更强大。<br>有问题请指出，不胜感激。</p>
<p>原文：<a href="http://www.cnblogs.com/FrankTan/archive/2010/03/01/1634516.html">http://www.cnblogs.com/FrankTan/archive/2010/03/01/1634516.html</a><br>参考资料：<a href="http://su1216.iteye.com/blog/1926382">http://su1216.iteye.com/blog/1926382</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313840/prose-a-wysiwyg-site-editor-for-github/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313840/prose-a-wysiwyg-site-editor-for-github/" class="post-title-link" itemprop="url">Prose——Github所见即所得站点编辑器</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-06-09 18:47:51" itemprop="dateCreated datePublished" datetime="2014-06-09T18:47:51+08:00">2014-06-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BD%AC%E8%BD%BD/" itemprop="url" rel="index"><span itemprop="name">转载</span></a>
        </span>
    </span>

  
    <span id="/313840/prose-a-wysiwyg-site-editor-for-github/" class="post-meta-item leancloud_visitors" data-flag-title="Prose——Github所见即所得站点编辑器" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313840/prose-a-wysiwyg-site-editor-for-github/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313840/prose-a-wysiwyg-site-editor-for-github/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>结合静态站点托管服务<a href="http://pages.github.com/">Github Pages</a>与博客生成工具<a href="https://github.com/mojombo/jekyll">Jekyll</a>，搭建博客站点，有着部署成本低、易于维护的特点。诚然，<a href="https://github.com/mojombo/jekyll">Jekyll</a>可以与<a href="http://pages.github.com/">Github Pages</a>无缝集成，专业人士通过pull request就可以发布内容，但不易用是其最大的问题。<a href="http://prose.io/">Prose</a>是一个基于<a href="http://pages.github.com/">Github Pages</a>的<a href="https://github.com/mojombo/jekyll">Jekyll</a>内容编辑器，它的出现使得内容编辑更快、更方便。</p>
<h2 id="开通Github-Pages服务"><a href="#开通Github-Pages服务" class="headerlink" title="开通Github Pages服务"></a><strong>开通</strong><a href="http://pages.github.com/"><strong>Github Pages</strong></a><strong>服务</strong></h2><p>从<a href="https://github.com/">Github</a>项目首页，点击进入后台管理页面<br><img src="https://res.infoq.com/news/2012/07/prose-github-content-editor/zh/resources/20120520-dhb4uhf7gx977wfwqbg36wsnxu.png"></p>
<p><strong>图1：Github项目管理后台入口<a href="#_Ref1"><sup>[1]</sup></a></strong></p>
<p>点击”Automatic Page Generator”按钮生成站点服务</p>
<p><img src="https://res.infoq.com/news/2012/07/prose-github-content-editor/zh/resources/20120602-cqg5dkfeiqd85m5ghah6k1tnff.png"></p>
<p><strong>图2：Github项目页面生成器<a href="#_Ref1"><sup>[1]</sup></a></strong></p>
<p>使用Markdown标记语言编辑站点内容，点击”Continue To Layouts”按钮</p>
<p><img src="https://res.infoq.com/news/2012/07/prose-github-content-editor/zh/resources/page-generator-picker.png"></p>
<p><strong>图3：Github项目页面预览<a href="#_Ref1"><sup>[1]</sup></a></strong></p>
<p>预览并发布</p>
<p><img src="https://res.infoq.com/news/2012/07/prose-github-content-editor/zh/resources/page-generator-publish.png"></p>
<p><strong>图4：Github项目页面发布<a href="#_Ref1"><sup>[1]</sup></a></strong></p>
<p>到这里，一个<a href="https://github.com/">Github</a>站点就生成了：http:&#x2F;&#x2F;<span style="color: #000000;">{<strong>accountName</strong>}</span>.github.com&#x2F;{<strong><span style="color: #000000;">projectName</span></strong>}</p>
<p><strong>使用</strong><a href="http://prose.io/"><strong>Prose</strong></a><strong>所见即所得的编辑特性</strong></p>
<p>尝试<a href="http://prose.io/">Prose</a>非常简单，首先通过<a href="https://github.com/">Github</a>账户身份验证，便可以导航到相应的站点</p>
<p><img src="https://res.infoq.com/news/2012/07/prose-github-content-editor/zh/resources/7441016028_3afa9a6397.jpg"></p>
<p><strong>图5：Prose验证页面<a href="#_Ref2"><sup>[2]</sup></a></strong></p>
<p>着陆页会依次列举个人代码库（Repository）</p>
<p><img src="https://res.infoq.com/news/2012/07/prose-github-content-editor/zh/resources/7441015894_f6866937f5.jpg"></p>
<p><strong>图6：Prose代码库列表<a href="#_Ref2"><sup>[2]</sup></a></strong></p>
<p>选中之前开通<a href="http://pages.github.com/">Github Pages</a>服务的代码库，可以浏览相应的文件以及创建新的文本文件</p>
<p><img src="https://res.infoq.com/news/2012/07/prose-github-content-editor/zh/resources/7441016120_903bacee4d.jpg"></p>
<p><strong>图7：Prose代码库内容列表<a href="#_Ref2"><sup>[2]</sup></a></strong></p>
<p>编辑内容的时候，<a href="http://prose.io/">Prose</a>支持Markdown标签的高亮显示</p>
<p><img src="https://res.infoq.com/news/2012/07/prose-github-content-editor/zh/resources/7441016244_3d4d614a25.jpg"></p>
<p><strong>图8：Prose编辑器高亮特性<a href="#_Ref2"><sup>[2]</sup></a></strong></p>
<p>任意时刻，都可以点击”Preview”按钮预览当前编辑的内容</p>
<p><img src="https://res.infoq.com/news/2012/07/prose-github-content-editor/zh/resources/7441016420_2c2a215a5f.jpg"></p>
<p><strong>图9：Prose编辑器预览特性<a href="#_Ref2"><sup>[2]</sup></a></strong></p>
<h2 id="Prose附加特性"><a href="#Prose附加特性" class="headerlink" title="Prose附加特性"></a><a href="http://prose.io/"><strong>Prose</strong></a><strong>附加特性</strong></h2><p>在菜单工具条点击”M”按钮，可以获取Markdown标签参考语法列表</p>
<p><img src="https://res.infoq.com/news/2012/07/prose-github-content-editor/zh/resources/synta.jpg"></p>
<p><strong>图10：Prose编辑器Markdown语法参考<a href="#_Ref2"><sup>[2]</sup></a></strong></p>
<p>在菜单沟工具条点击”Metadata”按钮，可以看到文档的元数据以<a href="http://www.yaml.org/">YAML</a>的格式展现</p>
<p><img src="https://res.infoq.com/news/2012/07/prose-github-content-editor/zh/resources/meta.jpg"></p>
<p><strong>图11：Prose编辑器元数据特性<a href="#_Ref2"><sup>[2]</sup></a></strong></p>
<h2 id="Prose项目的架构特点与展望"><a href="#Prose项目的架构特点与展望" class="headerlink" title="Prose项目的架构特点与展望"></a><a href="http://prose.io/"><strong>Prose</strong></a><strong>项目的架构特点与展望</strong></h2><p><a href="http://prose.io/">Prose</a>的架构实现是以<a href="http://backbonejs.org/">Backbone</a>与<a href="https://github.com/mojombo/jekyll">Jekyll</a>为基础，应用托管在<a href="https://github.com/">Github</a>上，浏览器端直接与<a href="http://developer.github.com/v3/">GitHub API</a>交互。鉴于浏览器端无法直接与<a href="https://github.com/">Github</a>通过<a href="http://en.wikipedia.org/wiki/OAuth">OAuth</a>交互，服务器后端处理用户身份的验证，具体的实现可参照<a href="https://github.com/prose/gatekeeper">Gatekeeper</a>。</p>
<p><strong>感兴趣的读者朋友既可以选择</strong><a href="http://prose.io/"><strong>Prose</strong></a><strong>作为</strong><a href="https://github.com/"><strong>Github</strong></a><strong>项目博客的内容编辑器，又可以参与</strong><a href="http://prose.io/"><strong>Prose</strong></a>**项目的建设（<a href="http://prose.io/"><strong>Prose**</a>完全基于<a href="http://en.wikipedia.org/wiki/BSD_licenses">BSD</a>开源协议），搭建本地开发环境请参照<a href="http://prose.io/help/internals.html" title="http:&#x2F;&#x2F;prose.io&#x2F;help&#x2F;internals.html">http://prose.io/help/internals.html</a></strong>。</p>
<h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a><strong>引用</strong></h2><p><a name="_Ref1"></a>[1] <a href="https://help.github.com/articles/creating-pages-with-the-automatic-generator">https://help.github.com/articles/creating-pages-with-the-automatic-generator</a></p>
<p><a name="_Ref2"></a>[2] <a href="http://developmentseed.org/blog/2012/june/25/prose-a-content-editor-for-github/">http://developmentseed.org/blog/2012/june/25/prose-a-content-editor-for-github/</a></p>
<p>原文： <a href="http://www.infoq.com/cn/news/2012/07/prose-github-content-editor">http://www.infoq.com/cn/news/2012/07/prose-github-content-editor</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313838/%E7%94%B7%E4%BA%BA%E7%9A%84%E6%B8%A9%E6%9F%94%E4%BB%8E%E5%93%AA%E9%87%8C%E4%BD%93%E7%8E%B0%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313838/%E7%94%B7%E4%BA%BA%E7%9A%84%E6%B8%A9%E6%9F%94%E4%BB%8E%E5%93%AA%E9%87%8C%E4%BD%93%E7%8E%B0%EF%BC%9F/" class="post-title-link" itemprop="url">男人的温柔从哪里体现？</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-06-09 14:04:29" itemprop="dateCreated datePublished" datetime="2014-06-09T14:04:29+08:00">2014-06-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BD%AC%E8%BD%BD/" itemprop="url" rel="index"><span itemprop="name">转载</span></a>
        </span>
    </span>

  
    <span id="/313838/%E7%94%B7%E4%BA%BA%E7%9A%84%E6%B8%A9%E6%9F%94%E4%BB%8E%E5%93%AA%E9%87%8C%E4%BD%93%E7%8E%B0%EF%BC%9F/" class="post-meta-item leancloud_visitors" data-flag-title="男人的温柔从哪里体现？" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313838/%E7%94%B7%E4%BA%BA%E7%9A%84%E6%B8%A9%E6%9F%94%E4%BB%8E%E5%93%AA%E9%87%8C%E4%BD%93%E7%8E%B0%EF%BC%9F/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313838/%E7%94%B7%E4%BA%BA%E7%9A%84%E6%B8%A9%E6%9F%94%E4%BB%8E%E5%93%AA%E9%87%8C%E4%BD%93%E7%8E%B0%EF%BC%9F/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>谢邀。</p>
<p>看了一下几个高票答案，讲的都是故事，都很感人，我就不催泪了，不过我需要对这些故事做一个理论补充——男人的温柔是不可能独立存在的。</p>
<p>So easy，如果一个男人拥有的只是温柔，体贴和任劳任怨，就像是你备胎中最听话的那一位一样。他会因为你的QQ签名改成了“下雨了，心情不好”而打20个电话给你只为给你讲个笑话；他会在你生理期的时候每天给你发短信叫你别着凉and多喝水；他会在你忙到不得不挂掉他电话之首写一封亲笔信来表达他对你的思念。</p>
<p>如果他只会这些，他不上进，也没有野心，更没有钱，也不会去思考如何赚钱，他有大把的时间，但是他却选择了花在游戏和牵挂你身上。作为女人，你还会喜欢他么？我相信大部分人的答案都是否定的。如果有人就是喜欢这一类男人，那我想说大学里面有很多，很多。</p>
<p>只有当男人有了足够的能力，社会地位或是财富之后，他的温柔具备杀伤力，我是男人，也是过来人，我知道一点：学习温柔是不需要成本的。换句话说，这玩意基本上不用学都会。一个大老粗也懂得应该对心爱的女人好一点，迁就一点，忍让一点。这在我们童年时期就已经被长辈教育过无数次了。他们总是告诉我们，男孩子要让着女孩子。</p>
<p>所以男人的温柔并不值钱。只有当这个男人足够强大之后，他的温柔才值钱。因为当一个男人飞黄腾达之后，他的心态会随之膨胀，他会目中无人，他会觉得他有钱有地位所以身边的人都应该围绕着他转。</p>
<p>很早之前的某一天，本来是要去外地看女朋友，但我犯懒了，那一刻我突然觉得我这么累的在工作，你作为我的女人怎么就不能多为我考虑一下，怎么就不能主动来看我？于是我找了一个理由说临时有工作上的事情去不了了，如果可以的话，不如你过来看我。结果她说，那下个月吧，你有工作就去。听到这句话的时候我生气了，狠狠的生气了。我觉得这女人真的太二，太不懂我。和她分手很久之后，我突然想明白了，二的是我，我已经被越来越高的社会地位冲昏了头脑，我没有做到一个男朋友的分内之事。更别提什么温柔了。我膨胀的太厉害，我失去了为他人思考的能力。我觉得这样下去要完蛋。也就是那时候我突然明白了清华的校训——厚德载物。</p>
<p>人都是这样，越强大越自傲。这是非常恐怖的，所以傲慢被定为七宗罪之首。同样的例子时时刻刻都在发生，就像是昨天在盐Club的前排会场里，我看到某个大V毫不留情的拒绝了一个粉丝的合影要求，甚至没有一句解释。甚是心寒。</p>
<p>相反的我看到有很多很强大也很温柔的男人例如马英九，李嘉诚，和《这个杀手不太冷》中的leon。无一不是拥有了强大的能力之后还能够保持一颗善良而谦和内心。我觉得这就是一个男人的温柔。</p>
<p>当然还有那些网络小说，女人的A片，有哪一个男主角不是家财万贯，武功高强，有勇有谋，帅的一逼？按照他们的人物设定基本可以坐拥天下，傲视众生甚至是扭曲时空。但无独有偶的他们哪一个在女主角面前不是谦谦君子，温润如玉的呢。如果这些男主角身上少了强大或是温柔中的任何一项，女人拿什么来高潮？</p>
<p>——————————</p>
<p>我不希望有些朋友带着偏见来看待这个问题，或是拿出现在的男朋友做比较。请不要说类似“不会呀，你看我现在的男朋友虽然没钱，但是他对我好呀”这样的话。那是因为你们在机缘巧合下走到了一起，你开始在这段感情和这个男人身上投资，无论是时间精力还是金钱，时间越长，你投资的就越多，也就越难以抽身。这就像是人们总是会试图维护自己的立场和想法一样，即使你知道那是不对的。</p>
<p>我更加不希望一些男性同胞误解我在嘲讽，也请不要自我矮化。那不是我的本意。我只是想说出事实，然后我们一起加油。</p>
<p>知乎原文：<a href="http://www.zhihu.com/question/23853217">http://www.zhihu.com/question/23853217</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313832/%E6%96%B0%E5%85%A5%E8%A1%8C%E7%A8%8B%E5%BA%8F%E5%91%98%E5%BA%94%E7%9F%A5%E7%9A%84%E5%8D%81%E4%B8%AA%E7%A7%98%E5%AF%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313832/%E6%96%B0%E5%85%A5%E8%A1%8C%E7%A8%8B%E5%BA%8F%E5%91%98%E5%BA%94%E7%9F%A5%E7%9A%84%E5%8D%81%E4%B8%AA%E7%A7%98%E5%AF%86/" class="post-title-link" itemprop="url">新入行程序员应知的十个秘密</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-06-09 00:57:35" itemprop="dateCreated datePublished" datetime="2014-06-09T00:57:35+08:00">2014-06-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BD%AC%E8%BD%BD/" itemprop="url" rel="index"><span itemprop="name">转载</span></a>
        </span>
    </span>

  
    <span id="/313832/%E6%96%B0%E5%85%A5%E8%A1%8C%E7%A8%8B%E5%BA%8F%E5%91%98%E5%BA%94%E7%9F%A5%E7%9A%84%E5%8D%81%E4%B8%AA%E7%A7%98%E5%AF%86/" class="post-meta-item leancloud_visitors" data-flag-title="新入行程序员应知的十个秘密" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313832/%E6%96%B0%E5%85%A5%E8%A1%8C%E7%A8%8B%E5%BA%8F%E5%91%98%E5%BA%94%E7%9F%A5%E7%9A%84%E5%8D%81%E4%B8%AA%E7%A7%98%E5%AF%86/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313832/%E6%96%B0%E5%85%A5%E8%A1%8C%E7%A8%8B%E5%BA%8F%E5%91%98%E5%BA%94%E7%9F%A5%E7%9A%84%E5%8D%81%E4%B8%AA%E7%A7%98%E5%AF%86/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>初出茅庐的你带着仍残留墨香的毕业证书踏上工作岗位，马上就被书上没写的规则和各种繁杂的日常事务来了个下马威。这样的故事实在是司空见惯，编程工作也不例外。</p>
<p>没有几个学生能 100% 为自己的第一份真正的工作做好准备。如果你不想成为其中之一，请学学以下这 10 项无需手把手指导就能学会的基本技能：</p>
<p>1、版本控制系统（VCS）</p>
<p>VCS 也许是计算机课程最大的疏漏。这些课程光记得教如何写代码，但却往往忘记教学生如何去管理代码。每一个程序员都应该懂得利用 Git 或 Subversion 有效地创建 repository（仓库），编辑与提交代码，进行分支与合并，了解项目工作流。</p>
<p>2、学会写作</p>
<p>身为程序员要写的不只有代码。你还要写项目的发布说明，给版本控制写提交消息，在系统里面写漏洞报告。这些和许多地方都需要清晰有效的文字交流—但这个技能计算机科学却很少强调。</p>
<p>3、正则表达式</p>
<p>正则表达式本身就是一门语言，每一个现代程序员都要擅长。每一门现代语言都支持正则表达式或者有相关标准库。如果代码需要校验某字符串是否含有 5 个字符、1 个破折号和 1 个数字，你应该马上就能写出 &#x2F;^[A-Z]{5}-\d$&#x2F;。</p>
<p>4、库的使用</p>
<p>现在已经是 2014 年，所以没人需要用正则表达式从 URL 析取主机名了。因为每一门现代编程语言都有执行常用功能的标准库。</p>
<p>程序员需要明白，那些经过开发、测试和调试的代码通常要比自己重新写的代码更好。更重要的是，无需编写的代码实现起来要快得多。</p>
<p>5、SQL</p>
<p>很多人的 SQL 都是在工作中学会的。数据库怎么会是选修课呢？有不用数据库的吗？</p>
<p>把数据存进平面文件的时代已经结束了。一切东西都要进出数据库，而 SQL 则是存取数据的语言。这是一门说明性语言，不是程序语言，所以用它来解决问题时需要新的思考方式。每一个程序员都应该了解数据库标准化基础，能够执行 SELECT（及 INNER、OUTER JOIN）、INSERT、UPDATE 和 DELETE。</p>
<p>6、会用IDE、编辑器及CLI工具</p>
<p>只懂用锯子的木匠永远也无法出师，所以计算机专业毕业的人只懂 Notepad 或 pico 令人惊诧。编程工具帮助操纵代码及其他数据，令程序员生活变得容易。所以每一个程序员都应该知道命令行、shell 脚本、find、grep 及 sed 的使用。</p>
<p>7、调试</p>
<p>每一个程序员都应该知道利用交互式调试器或在代码中点缀一些输出语句来调试程序。通过逐步求精来跟踪问题的能力实在是太重要了。</p>
<p>8、防错性编程</p>
<p>错误总是难免的，哪怕是明星程序员也不例外。失控是世界的常态，出错毫不奇怪。防错性编程正是理解了这个事实。如果东西不会不出错，我们就不会检查文件打开成功与否，不会检查客户 ID 是否合法数字，不用测试代码是否允许正确。</p>
<p>程序员需要知道，编译器告警是有用的工具，可让我们生活得更舒适，而不是要避而远之的麻烦事。每一个程序员都应该知道为什么每一个 PHP 程序都要这样开头：</p>
<p>set_error_reporting(E_ALL)</p>
<p>每一个 Perl 程序都要写上这些语句：</p>
<p>use strict; use warnings;</p>
<p>9、团队协作</p>
<p>很少编程工作会让你自己一个人完成，如果你经常这么做，智力会受损，表现会变弱。你的代码必须与别人的交互或者混合。再有才的程序员，如果无法与别人协作，都会给项目造成负面影响，并迅速成为组织的负担。</p>
<p>10、利用现有代码</p>
<p>在学校的时候，每一次作业都是一个新项目。但现实世界不是这样的。对于刚工作的人来说，所接到的第一项任务往往是修改代码漏洞。然后，再在现有代码库的基础上为现有系统增加一个小功能。设计新代码那是几个月后的事情，如果幸运的话。</p>
<p>[本文编译自：blog.newrelic.com]</p>
<p>原文： <a href="http://www.36kr.com/p/212678.html?ref=related">http://www.36kr.com/p/212678.html?ref=related</a> </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313830/log-into-mysql-server-without-password/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313830/log-into-mysql-server-without-password/" class="post-title-link" itemprop="url">无密码登陆mysql服务器</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2014-06-08 14:47:23" itemprop="dateCreated datePublished" datetime="2014-06-08T14:47:23+08:00">2014-06-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
    </span>

  
    <span id="/313830/log-into-mysql-server-without-password/" class="post-meta-item leancloud_visitors" data-flag-title="无密码登陆mysql服务器" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313830/log-into-mysql-server-without-password/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313830/log-into-mysql-server-without-password/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>mysql 的一般登陆方式是这样的</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">mysql</span> -u <span class="variable">$MYSQL_ROOT</span> -p <span class="variable">$MYSQL_PASS</span> -h <span class="number">192.168.10.1</span></span><br></pre></td></tr></table></figure>

<p>但是，你有两个方式可以使用无密码提示的登陆，一个是修改<code>/etc/my.cnf</code>文件，一个是修改<code>~/.my.conf </code>文件。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">vi ~/.my.cnf</span></span><br></pre></td></tr></table></figure>


<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[client]</span></span><br><span class="line"><span class="attr">user</span>=alice</span><br><span class="line"><span class="attr">password</span>=alice_passwd</span><br><span class="line"><span class="attr">host</span>=<span class="number">192.168</span>.<span class="number">10.1</span></span><br></pre></td></tr></table></figure>

<p>如果是修改my.cnf文件，把它加到文件末尾就行了。你可以直接使用  </p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">mysql -u root</span></span><br></pre></td></tr></table></figure>

<p>登陆，不会再提示密码错误。但如果你仍然使用</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -<span class="selector-tag">p</span></span><br></pre></td></tr></table></figure>

<p>的方式，它还是会提示你输入密码的。</p>
<p>确保文件是只读的</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">chmod</span> 0600 ~/.my.cnf</span></span><br></pre></td></tr></table></figure>

<p>这样设置以后，你每次使用命令<code>mysql</code>就可以不要密码了，自动进入mysql中。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/12/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><span class="page-number current">13</span><a class="page-number" href="/page/14/">14</a><span class="space">&hellip;</span><a class="page-number" href="/page/46/">46</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/14/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Ray</span>
  </div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/leadscloud" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/algoliasearch/4.24.0/algoliasearch-lite.umd.js" integrity="sha256-b2n6oSgG4C1stMT/yc/ChGszs9EY/Mhs6oltEjQbFCQ=" crossorigin="anonymous"></script><script src="/js/third-party/search/algolia-search.js"></script>







  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


  <script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":"ePPAQV9hFzcbhOaQvvtyjTnw-gzGzoHsz","app_key":"GLniGVXsSMGBjTmaiI4wleaF","server_url":"https://leancloud.tinycms.xyz","security":false}</script>
  <script src="/js/third-party/statistics/lean-analytics.js"></script>




<script class="next-config" data-name="valine" type="application/json">{"enable":true,"appId":"ePPAQV9hFzcbhOaQvvtyjTnw-gzGzoHsz","appKey":"GLniGVXsSMGBjTmaiI4wleaF","serverURLs":"https://leancloud.tinycms.xyz","placeholder":"Just go go","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"lang":"zh-cn","visitor":false,"comment_count":true,"recordIP":true,"enableQQ":true,"requiredFields":[],"el":"#valine-comments","path":"/page/13/"}</script>
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.valine.el)
    .then(() => NexT.utils.getScript(
      'https://fastly.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js',
      { condition: window.Valine }
    ))
    .then(() => {
      new Valine(CONFIG.valine);
    });
});
</script>

</body>
</html>
