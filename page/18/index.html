<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/logo.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="mask-icon" href="/logo.png" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"leadscloud.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.22.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"algolia":{"appID":"F1YESSIUKA","apiKey":"fba180e0d225a86fe382bf021a9f0ae3","indexName":"blog","hits":{"per_page":10}}}</script><script src="/js/config.js"></script>

    <meta name="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
<meta property="og:type" content="website">
<meta property="og:title" content="leadscloud">
<meta property="og:url" content="https://leadscloud.github.io/page/18/index.html">
<meta property="og:site_name" content="leadscloud">
<meta property="og:description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Ray">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://leadscloud.github.io/page/18/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/18/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>leadscloud</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6GCT2E7T9Y"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-6GCT2E7T9Y","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="leadscloud" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">leadscloud</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Google SEO|外贸营销推广</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">266</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">11</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">459</span></a></li><li class="menu-item menu-item-免费chatgpt"><a href="https://freegpt.tech/?refer=blog-side" rel="section" target="_blank"><i class="fa fa-heart fa-fw"></i>免费ChatGPT</a></li><li class="menu-item menu-item-我的简历"><a href="https://leadscloud.github.io/resume/resume.pdf" rel="section"><i class="fa fa-vcard fa-fw"></i>我的简历</a></li><li class="menu-item menu-item-友情链接"><a href="/links/" rel="section"><i class="fa fa-link fa-fw"></i>友情链接</a></li><li class="menu-item menu-item-chrome扩展（域名所属人）"><a href="/serp-analyzer/" rel="section"><i class="fa fa-cloud fa-fw"></i>Chrome扩展（域名所属人）</a></li><li class="menu-item menu-item-询盘管理系统"><a href="https://github.com/leadscloud/infomaster" rel="section" target="_blank"><i class="fa fa-database fa-fw"></i>询盘管理系统</a></li><li class="menu-item menu-item-外贸留言板系统"><a href="/20180615/google-seo-inquiry-messageboard/" rel="section"><i class="fa fa-database fa-fw"></i>外贸留言板系统</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fab fa-algolia fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Ray</p>
  <div class="site-description" itemprop="description">熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">459</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">266</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/leadscloud" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;leadscloud" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:love4026@gmail.com" title="E-Mail → mailto:love4026@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          链接
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://cdn.livechatinc.xyz/" title="https:&#x2F;&#x2F;cdn.livechatinc.xyz&#x2F;" rel="noopener" target="_blank">RLiveChat</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://www.kamychina.com/" title="https:&#x2F;&#x2F;www.kamychina.com&#x2F;" rel="noopener" target="_blank">Roadheader</a>
            </li>
            <li class="links-of-blogroll-item">
              <a href="https://tinycms.xyz/" title="https:&#x2F;&#x2F;tinycms.xyz&#x2F;" rel="noopener" target="_blank">TinyCMS</a>
            </li>
        </ul>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313668/php%E4%B9%A6%E7%B1%8D%E6%95%B4%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313668/php%E4%B9%A6%E7%B1%8D%E6%95%B4%E7%90%86/" class="post-title-link" itemprop="url">php书籍整理</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2013-11-10 15:05:46" itemprop="dateCreated datePublished" datetime="2013-11-10T15:05:46+08:00">2013-11-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BD%AC%E8%BD%BD/" itemprop="url" rel="index"><span itemprop="name">转载</span></a>
        </span>
    </span>

  
    <span id="/313668/php%E4%B9%A6%E7%B1%8D%E6%95%B4%E7%90%86/" class="post-meta-item leancloud_visitors" data-flag-title="php书籍整理" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313668/php%E4%B9%A6%E7%B1%8D%E6%95%B4%E7%90%86/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313668/php%E4%B9%A6%E7%B1%8D%E6%95%B4%E7%90%86/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="必读"><a href="#必读" class="headerlink" title="必读"></a>必读</h3><ul>
<li><a href="http://wulijun.github.io/php-the-right-way/">PHP之道</a></li>
<li><a href="http://www.laruence.com/2010/06/21/1608.html">PHP调试技术手册</a></li>
<li><a href="http://phpbestpractices.justjavac.com/">PHP 最佳实践</a></li>
<li><a href="https://code.google.com/p/pasc2at/wiki/SimplifiedChinese">高级PHP应用程序漏洞审核技术</a></li>
<li><a href="http://feiyang.me/2013/03/php-psr-in-chinese/">PHP的PSR规范中文版</a></li>
</ul>
<h3 id="深入"><a href="#深入" class="headerlink" title="深入"></a>深入</h3><ul>
<li><a href="https://github.com/walu/phpbook">PHP扩展开发及内核应用</a></li>
<li><a href="https://github.com/reeze/tipi">深入理解PHP内核</a></li>
</ul>
<h3 id="博客"><a href="#博客" class="headerlink" title="博客"></a>博客</h3><ul>
<li><a href="http://www.laruence.com/">风雪之隅</a></li>
<li><a href="http://blog.csdn.net/heiyeshuwu">黑夜路人</a></li>
<li><a href="http://yanbin.org/">抚琴居</a></li>
<li><a href="http://www.imsiren.com/">斯人博客</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313664/%E7%83%AD%E5%8A%9B%E5%AD%A6%E7%AC%AC%E4%BA%8C%E5%AE%9A%E5%BE%8B%E9%94%99%E4%BA%86%E5%90%97%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313664/%E7%83%AD%E5%8A%9B%E5%AD%A6%E7%AC%AC%E4%BA%8C%E5%AE%9A%E5%BE%8B%E9%94%99%E4%BA%86%E5%90%97%EF%BC%9F/" class="post-title-link" itemprop="url">热力学第二定律错了吗？</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2013-11-08 10:16:51" itemprop="dateCreated datePublished" datetime="2013-11-08T10:16:51+08:00">2013-11-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BD%AC%E8%BD%BD/" itemprop="url" rel="index"><span itemprop="name">转载</span></a>
        </span>
    </span>

  
    <span id="/313664/%E7%83%AD%E5%8A%9B%E5%AD%A6%E7%AC%AC%E4%BA%8C%E5%AE%9A%E5%BE%8B%E9%94%99%E4%BA%86%E5%90%97%EF%BC%9F/" class="post-meta-item leancloud_visitors" data-flag-title="热力学第二定律错了吗？" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313664/%E7%83%AD%E5%8A%9B%E5%AD%A6%E7%AC%AC%E4%BA%8C%E5%AE%9A%E5%BE%8B%E9%94%99%E4%BA%86%E5%90%97%EF%BC%9F/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313664/%E7%83%AD%E5%8A%9B%E5%AD%A6%E7%AC%AC%E4%BA%8C%E5%AE%9A%E5%BE%8B%E9%94%99%E4%BA%86%E5%90%97%EF%BC%9F/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>迄今，人类已经发现了物质世界的各种各样的、大大小小的、许许多多的规律、定律，其中没有一个对物质世界的存在及其进化是不利的、有害的，惟一例外的是热力学第二定律，既特殊而让人难以抗拒，它或许还意味着我们这个宇宙悲凉的结局。</p>
<h3 id="什么是热力学第二定律？"><a href="#什么是热力学第二定律？" class="headerlink" title="什么是热力学第二定律？"></a>什么是热力学第二定律？</h3><blockquote>
<p>不可能从单一热源吸收热量，使之完全转换为功而不引起其他变化。（开尔文）</p>
<p>不可能使热量从低温物体传向高温物体而不引起其他变化。（克劳修斯）<br>以上是热力学第二定律的两种的表述形式，看似两种形式，其本质却是一样的。</p>
</blockquote>
<p>19世纪初期，蒸汽机在工业上已得到广泛的运用，但其效率不高。在研究如何提高效率的过程中，法国物理学家卡诺发现，蒸汽机的效率取决于机械内外的温度差。在蒸汽机的工作过程中，虽然能量是守恒的，但却无法将所有的热量转换做功。作为第一个发现这种数量关系的人，他被认为是现代热力学的奠基者。</p>
<h3 id="惊奇事实：关于时间的不对称性"><a href="#惊奇事实：关于时间的不对称性" class="headerlink" title="惊奇事实：关于时间的不对称性"></a>惊奇事实：关于时间的不对称性</h3><p>什么是关于时间的不对称性呢？简单来说，就是不能回到过去的那种状态。牛顿的经典物理体系关于时间是对称的：台球桌上小球的运动，用一台摄像机把这个过程拍摄下来，那么把视频倒过来放，同样满足运动的方程式。但是热力学第二定律则不一样，摩擦产生热，耗散到四面八方，把这个过程倒着放，你会发现热从四面八方汇聚一起，然后推动了运动！这是相当荒谬的。真空中的气体自由扩散很轻松就完成了，但如果你想把这些远走高飞的原子唤回来，却需要巨大的麻烦！我们烧掉一块煤，燃烧所得的能量不会消失，但我们却再也无法把同一块煤重新烧一次来做同样的功了。热力学第二定律解释了这些现象，它告诉我们每当能量从一种状态转化到另一种状态时，我们会得到“一定的惩罚”。这个惩罚就是我们损失了能在将来用于做某种功的一定能量。这就是所谓的“熵”。</p>
<p><a href="http://www.xyxc.net/wp-content/uploads/2012/08/example.png"><img src="http://www.xyxc.net/wp-content/uploads/2012/08/example.png" title="example"></a></p>
<p>现代统计力学认为，热是由概率性原子相互作用的结果。就拿上面气体扩散的例子来说，</p>
<p>对于n个分子，它们集中在A中的概率只有1&#x2F;2<sup>n</sup>，对于1mol气体来说，这个概率为1&#x2F;2<sup>6<em>10<sup>23</sup></sup>≈10<sup>-2</em>10<sup>23</sup></sup>，这是微不足道的。平均来说，要在2<sup>n</sup>次观测中出现一次全在A中这样的情况，即使每秒观测10<sup>8</sup>次也要10<sup>2×10<sup>23</sup></sup>秒，这个时间比现在估计的宇宙年龄10<sup>17</sup>（100多亿年）要大得多！这种情况实际上是观察不到的。</p>
<p>应该指出的是，这种定律并不适用于微观即一两个分子的情形，分子数目少的时候大有可能全在A或B中。</p>
<h3 id="麦克斯韦的小妖：对热力学第二定律的质疑"><a href="#麦克斯韦的小妖：对热力学第二定律的质疑" class="headerlink" title="麦克斯韦的小妖：对热力学第二定律的质疑"></a>麦克斯韦的小妖：对热力学第二定律的质疑</h3><p>热力学第一定律即能量守恒，很容易被人接受，但热力学第二定律却受到了众多质疑。物理学家麦克斯韦于1871年提出了这样一种情形，一个密闭的容器，分成左右两部分，隔板上有个开口。我们知道，气体温度是由其众多分子的平均动能决定的，同一种气体分子，运动得越快气体温度就高。麦克斯韦设想，在开口处有一个“小妖”在这里监视分子的运动，并控制开口的开关。起初两侧温度相同，由分子运动平均率可知，分子之间的速度是有差异的，当运动快的分子进入右侧、或者运动慢的分子进入左侧时，小妖便打开阀门让分子经过，反之，则关闭阀门不让分子经过。如此一来，经过一段时间之后，容器的右边便是运动快的分子，而左边则是运动慢的分子，由于温度反映的是分子的平均动能，因此右侧的温度显然比左侧高，如此一来，我们并没有对这个密闭容器中的气体做功，但是这个容器里的气体便自发地分成了高温和低温两个部分，这显然是违背热力学第二定律的。</p>
<p>应当说，在日常生活中，谁也没有见过这种现象，但是麦克斯韦的小妖又似乎难以驳倒，直到20世纪，人们才弄清楚麦克斯韦小妖并不能推翻热力学第二定律，原因就在于，小妖要想识别分子运动速度的快慢，就需要消耗能量，而且从信息论的角度来说，小妖为此花费的能量将多于它完成这种转移后系统增加的能量。因此，从总体的角度来说，要想完成这一过程，外界就必须消耗能量，整个体系的熵还是增加的。热力学第二定律依然未能被打破。</p>
<h3 id="薛定谔的悖论：来自生物学的挑战"><a href="#薛定谔的悖论：来自生物学的挑战" class="headerlink" title="薛定谔的悖论：来自生物学的挑战"></a>薛定谔的悖论：来自生物学的挑战</h3><p>如果了热力学第二定律诠释出宇宙越来越混乱的趋势，那么，为什么生命的进化历程显示出越来越有序的趋势呢？1943年，奥地利科学家欧文·薛定谔(Erwin Schrodinger)在剑桥大学演讲时提出了这一悖论。这一悖论显示出了物理学与生物学之间的矛盾——生物体怎样才能抵制热力学的腐蚀？薛定谔推测，生物体一定是以某种方式在自己身上集中了一种整齐有序的趋势，他为这种趋势取了一个奇怪的名字——“负熵”。</p>
<p>生物体不能脱离物理和化学定律的制约，为了达到有序性就必须付出代价。最后的答案是，生命的有序性来自太阳。</p>
<p>地球上的生物圈并不是一个封闭的系统，它得到了太阳的能量。生命的基本过程是获取太阳的低熵、不同波段的光的能量，生命将光转变为生物体和热。获取、使用，以在某种程度上对来自太阳的光子的的高质量能量再循环。通过这些方式，生命获得延续和增长，形成作为宇宙垃圾的熵和热。如果生命是一个孤立的系统，那将是不可思议的。但它是一个开放的系统——这一点极为重要，进化所需要的日趋复杂需要低熵的太阳辐射的资助。</p>
<p><a href="http://www.xyxc.net/wp-content/uploads/2012/08/t.jpg"><img src="http://www.xyxc.net/wp-content/uploads/2012/08/t.jpg" alt="生命呈现出越来越有序的趋势." title="生命呈现出越来越有序的趋势."></a></p>
<p>从生物的生存环境上来看这一点，就会更加明显。我们的“有序”，同时产生了更多的“无序”——尿、粪、汗、污染、垃圾和排出的二氧化碳都是人类生活不可避免的废物。作为一个开放的系统，我们必须抛弃物质和能量废物。对于生物体来说，要排除不再有利用价值的气体、液体和废物。站在生态系统的角度，排出的污物进入土壤或水域，在微生物的分解过程中，大部分散失，只有少量能量被重新利用。站在生物圈的角度，我们势必要污染全球共有的海洋，使火箭残余物进入近地太空轨道。大自然已找到了废物再循环进入生物体的方法，但它却无法躲避热力学的规则，即整齐有序地创造出全球的垃圾。</p>
<p>表面的有序，只是地球这个范围内的部分有序，在更大的角度看，地球的有序是以太阳有序的丧失为代价的。</p>
<h3 id="热寂：世界的终结？"><a href="#热寂：世界的终结？" class="headerlink" title="热寂：世界的终结？"></a>热寂：世界的终结？</h3><p>如果把这个系统扩大到整个宇宙的范围来看，那么就会得到这样一种推论，即，宇宙的熵会随着时间的流逝而增加，由有序向无序，当宇宙的熵达到最大值时，宇宙中的其他有效能量已经全数转化为热能，所有物质温度达到热平衡。这种状态称为热寂。这样的宇宙中再也没有任何可以维持运动或是生命的能量存在。威廉·汤姆森（William Thomson）于1850年提出了这个理论，随后，热寂理论又由赫尔曼·冯·亥姆霍兹和威廉·朗肯（William Rankine）加以发展。</p>
<p>根据热寂的学说，宇宙的最终结局将是一片死寂，历经无数亿年艰难曲折一切进化成果都将被毁灭，一切存在过的历史和记忆都将被夷平。简而言之，证明宇宙存在的历史证据都将不复存在，这是什么意思呢？大到星系的运动，星球数目和位置，太阳系有的行星，以及在地球上的发生过的一切，人类文明——今后没有证据来证实这一切的存在。其实，毁灭其实并不是最可怕的，最可怕的是毁灭后还销毁掉了一切存在的证据。</p>
<p>所有的星体都将被毁灭，宇宙成为一片无生命的、毫无生机的、恒温的废墟。热寂理论持有一种悲观的色彩，这种色彩除了引来对未来充满信心的哲学家的批评外，也招到了科学界的质疑。天体物理学家弗里曼·戴逊(Freeman Dyson)认为，这个结论从宇宙论意义上讲是欠成熟的，因为我们的宇宙也许其本身只是一个更大的开放系统的组成部分。但是，在我看来，如果那样认为，那么我们也能把更大的系统包含进来，然后成为一个封闭的系统，在这个系统中达到“热寂”。</p>
<blockquote>
<p>目前流行的大爆炸理论也对热寂作出解释，但这理论仍然是崇尚热寂的，只不过换过说法而已，该理论认为：对于一个静态的体系(或宇宙中的局部空间)总是趋于平衡态，但宇宙是膨胀的(看着气体膨胀),宇宙根本不能达到平衡态,所以宇宙不会出现热寂。</p>
<p>但是一些人认为大爆炸理论的上述解释是错误的,不论宇宙是膨胀、收缩或静态，宇宙都不会进入热寂。因为星体引力在引力方向存在温度坡度，可发生两种情形：①、如果一个星系原是热均衡态，温度处处相等，在星体引力作用下，热量将向引力中心转移，使引力中心温度很高，而外围温度很低；②、如果一个星体与周围已形成温度坡度，这温度坡度是由星体引力大小和星体物质的分子量决定的，当外界施给热量的影响时，引力将始终维持一定的温度坡度，即引力在一段高度内温度差是恒定的。虽然高温星体把热量辐射到太空中，是形成热寂的主要途径，但不论是气态、固态星体的引力应竭力维持一定的温度梯度，故都具有云集太空中热量的功能，实现了热量的回流，所以宇宙永远不会出现热寂。(百度百科)<br>参考：<br>1.《新版大学物理》吴百诗主编<br>2.《我的另一半 》_What Is Sex？ _林恩·马古利斯、多里昂·萨根 &#x2F;著<br>3.《熵——一种新的世界观》里夫金、霍德华 &#x2F;著</p>
</blockquote>
<p><a href="http://www.xyxc.net/1288.html">http://www.xyxc.net/1288.html</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313661/%E4%BD%BF%E7%94%A8-shell-%E8%84%9A%E6%9C%AC%E5%AF%B9-linux-%E7%B3%BB%E7%BB%9F%E5%92%8C%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90%E8%BF%9B%E8%A1%8C%E7%9B%91%E6%8E%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313661/%E4%BD%BF%E7%94%A8-shell-%E8%84%9A%E6%9C%AC%E5%AF%B9-linux-%E7%B3%BB%E7%BB%9F%E5%92%8C%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90%E8%BF%9B%E8%A1%8C%E7%9B%91%E6%8E%A7/" class="post-title-link" itemprop="url">使用-shell-脚本对-linux-系统和进程资源进行监控</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2013-11-03 09:38:31" itemprop="dateCreated datePublished" datetime="2013-11-03T09:38:31+08:00">2013-11-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BD%AC%E8%BD%BD/" itemprop="url" rel="index"><span itemprop="name">转载</span></a>
        </span>
    </span>

  
    <span id="/313661/%E4%BD%BF%E7%94%A8-shell-%E8%84%9A%E6%9C%AC%E5%AF%B9-linux-%E7%B3%BB%E7%BB%9F%E5%92%8C%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90%E8%BF%9B%E8%A1%8C%E7%9B%91%E6%8E%A7/" class="post-meta-item leancloud_visitors" data-flag-title="使用-shell-脚本对-linux-系统和进程资源进行监控" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313661/%E4%BD%BF%E7%94%A8-shell-%E8%84%9A%E6%9C%AC%E5%AF%B9-linux-%E7%B3%BB%E7%BB%9F%E5%92%8C%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90%E8%BF%9B%E8%A1%8C%E7%9B%91%E6%8E%A7/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313661/%E4%BD%BF%E7%94%A8-shell-%E8%84%9A%E6%9C%AC%E5%AF%B9-linux-%E7%B3%BB%E7%BB%9F%E5%92%8C%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90%E8%BF%9B%E8%A1%8C%E7%9B%91%E6%8E%A7/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Shell-简介"><a href="#Shell-简介" class="headerlink" title="Shell 简介"></a>Shell 简介</h2><p>Shell 语言对于接触 LINUX 的人来说都比较熟悉，它是系统的用户界面，提供了用户与内核进行交互操作的一种接口。它接收用户输入的命令并把它送入内核去执行。实际上 Shell 是一个命令解释器，它解释由用户输入的命令并且把它们送到内核。它没有一般编程语言的“编译 - 链接 - 运行”过程。不仅如此，Shell 有自己的编程语言用于对命令的编辑，它允许用户编写由 shell 命令组成的程序。Shell 编程语言具有普通编程语言的很多特点，比如它也有循环结构和分支控制结构等，用这种编程语言编写的 Shell 程序与其他应用程序具有同样的效果。当然，Shell 功能也是很强大的。Shell 有多种类型，其中最常用的几种是 Bourne shell（sh）、C shell（csh）和 Korn shell（ksh）。三种 shell 各有优缺点，Linux 操作系统缺省的 shell 一般是 Bourne Again shell，它是 Bourne shell 的扩展，简称 Bash，bash 的命令语法是 Bourne shell 命令语法的超集，并且在 Bourne shell 的基础上增加、增强了很多特性。在这里，我们以 Bash 做为实例总结了使用 Shell 对系统和进程资源进行监控的一些内容，希望对您能有帮助。</p>
<p><a href="http://www.ibm.com/developerworks/cn/linux/l-cn-shell-monitoring/#ibm-pcon">回页首</a></p>
<h2 id="使用-Shell-对进程资源进行监控"><a href="#使用-Shell-对进程资源进行监控" class="headerlink" title="使用 Shell 对进程资源进行监控"></a>使用 Shell 对进程资源进行监控</h2><h3 id="检查进程是否存在"><a href="#检查进程是否存在" class="headerlink" title="检查进程是否存在"></a>检查进程是否存在</h3><p>在对进程进行监控时，我们一般需要得到该进程的 ID，进程 ID 是进程的唯一标识，但是有时可能在服务器上不同用户下运行着多个相同进程名的进程，下面的函数 GetPID 给出了获取指定用户下指定进程名的进程 ID 功能（目前只考虑这个用户下启动一个此进程名的进程），它有两个参数为用户名和进程名，它首先使用 ps 查找进程信息，同时通过 grep 过滤出需要的进程，最后通过 sed 和 awk 查找需要进程的 ID 值（此函数可根据实际情况修改，比如需要过滤其它信息等）。</p>
<h5 id="清单-1-对进程进行监控"><a href="#清单-1-对进程进行监控" class="headerlink" title="清单 1. 对进程进行监控"></a>清单 1. 对进程进行监控</h5><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title">GetPID</span> #User #Name </span><br><span class="line"> &#123; </span><br><span class="line">    PsUser=$<span class="number">1</span> </span><br><span class="line">    PsName=$<span class="number">2</span> </span><br><span class="line">    pid=`<span class="keyword">ps</span> -<span class="keyword">u</span> $PsUser|<span class="keyword">grep</span> $PsName|<span class="keyword">grep</span> -v <span class="keyword">grep</span>|<span class="keyword">grep</span> -v <span class="keyword">vi</span>|<span class="keyword">grep</span> -v dbx\n </span><br><span class="line">    |<span class="keyword">grep</span> -v tail|<span class="keyword">grep</span> -v start|<span class="keyword">grep</span> -v <span class="keyword">stop</span> |sed -n <span class="number">1</span><span class="keyword">p</span> |awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>` </span><br><span class="line">    <span class="keyword">echo</span> $pid </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>示例演示：</p>
<p>1）源程序（例如查找用户为 root，进程名为 CFTestApp 的进程 ID）</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">PID</span>=`GetPID root CFTestApp` </span><br><span class="line"></span><br><span class="line">echo <span class="variable">$PID</span></span><br></pre></td></tr></table></figure>

<p>2）结果输出</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">11426</span> </span><br><span class="line"><span class="string">[dyu@xilinuxbldsrv shell]</span>$</span><br></pre></td></tr></table></figure>

<p>3）结果分析</p>
<p>从上面的输出可见：11426 为 root 用户下的 CFTestApp 程序的进程 ID。</p>
<p>4）命令介绍</p>
<p>1. ps: 查看系统中瞬间进程信息。 参数：<code>-u &lt;用户识别码&gt;</code> 列出属于该用户的程序的状况，也可使用用户名称来指定。 <code>-p &lt;进程识别码&gt;</code> 指定进程识别码，并列出该进程的状况。 -o 指定输出格式<br>2. grep: 用于查找文件中符合字符串的当前行。 参数：-v 反向选择，亦即显示出没有 ‘搜寻字符串’ 内容的那一行。<br>3. sed: 一个非交互性文本编辑器，它编辑文件或标准输入导出的文件，一次只能处理一行内容。 参数：-n 读取下一个输入行，用下一个命令处理新的行而不是用第一个命令。 p 标志 打印匹配行<br>4. awk：一种编程语言，用于在 linux&#x2F;unix 下对文本和数据进行处理。数据可以来自标准输入、一个或多个文件，或其它命令的输出。它支持用户自定义函数和动态正则表达式等先进功能，是 linux&#x2F;unix 下的一个强大编程工具。它在命令行中使用，但更多是作为脚本来使用。awk 的处理文本和数据的方式：它逐行扫描文件，从第一行到最后一行，寻找匹配的特定模式的行，并在这些行上进行你想要的操作。如果没有指定处理动作，则把匹配的行显示到标准输出 ( 屏幕 )，如果没有指定模式，则所有被操作所指定的行都被处理。 参数：-F fs or –field-separator fs ：指定输入文件折分隔符，fs 是一个字符串或者是一个正则表达式，如 -F:。</p>
<p>有时有可能进程没有启动，下面的功能是检查进程 ID 是否存在，如果此进程没有运行输出：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">The process does not exist. </span><br><span class="line"><span class="comment"># 检查进程是否存在</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;-<span class="variable">$PID</span>&quot;</span> == <span class="string">&quot;-&quot;</span> ] </span><br><span class="line"><span class="keyword">then</span> </span><br><span class="line">&#123; </span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The process does not exist.&quot;</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<h3 id="检测进程-CPU-利用率"><a href="#检测进程-CPU-利用率" class="headerlink" title="检测进程 CPU 利用率"></a>检测进程 CPU 利用率</h3><p>在对应用服务进行维护时，我们经常遇到由于 CPU 过高导致业务阻塞，造成业务中断的情况。CPU 过高可能由于业务量过负荷或者出现死循环等异常情况，通过脚本对业务进程 CPU 进行时时监控，可以在 CPU 利用率异常时及时通知维护人员，便于维护人员及时分析，定位，以及避免业务中断等。下面的函数可获得指定进程 ID 的进程 CPU 利用率。它有一个参数为进程 ID，它首先使用 ps 查找进程信息，同时通过 grep -v 过滤掉 %CPU 行，最后通过 awk 查找 CPU 利用百分比的整数部分（如果系统中有多个 CPU，CPU 利用率可以超过 100%）。</p>
<h5 id="清单-2-对业务进程-CPU-进行实时监控"><a href="#清单-2-对业务进程-CPU-进行实时监控" class="headerlink" title="清单 2. 对业务进程 CPU 进行实时监控"></a>清单 2. 对业务进程 CPU 进行实时监控</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> GetCpu </span><br><span class="line">  &#123; </span><br><span class="line">   CpuValue=`ps -p <span class="variable">$1</span> -o pcpu |grep -v CPU | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | awk -  F. <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>` </span><br><span class="line">        <span class="built_in">echo</span> <span class="variable">$CpuValue</span> </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>下面的功能是通过上面的函数 GetCpu 获得此进程的 CPU 利用率，然后通过条件语句判断 CPU 利用率是否超过限制，如果超过 80%（可以根据实际情况进行调整），则输出告警，否则输出正常信息。</p>
<h5 id="清单-3-判断-CPU-利用率是否超过限制"><a href="#清单-3-判断-CPU-利用率是否超过限制" class="headerlink" title="清单 3. 判断 CPU 利用率是否超过限制"></a>清单 3. 判断 CPU 利用率是否超过限制</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> CheckCpu </span><br><span class="line"> &#123; </span><br><span class="line">    PID=<span class="variable">$1</span> </span><br><span class="line">    cpu=`GetCpu <span class="variable">$PID</span>` </span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$cpu</span> -gt 80 ] </span><br><span class="line">    <span class="keyword">then</span> </span><br><span class="line">    &#123; </span><br><span class="line"> <span class="built_in">echo</span> “The usage of cpu is larger than 80%”</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">    &#123; </span><br><span class="line"> <span class="built_in">echo</span> “The usage of cpu is normal”</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">fi</span> </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>示例演示：</p>
<p>1）源程序（假设上面已经查询出 CFTestApp 的进程 ID 为 11426）</p>
<p><code>CheckCpu 11426</code></p>
<p>2）结果输出</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The <span class="keyword">usage</span> <span class="keyword">of</span> cpu <span class="keyword">is</span> <span class="number">75</span> </span><br><span class="line">The <span class="keyword">usage</span> <span class="keyword">of</span> cpu <span class="keyword">is</span> normal </span><br><span class="line">[dyu@xilinuxbldsrv shell]$</span><br></pre></td></tr></table></figure>

<p>3）结果分析</p>
<p>从上面的输出可见：CFTestApp 程序当前的 CPU 使用为 75%，是正常的，没有超过 80% 的告警限制。</p>
<h3 id="检测进程内存使用量"><a href="#检测进程内存使用量" class="headerlink" title="检测进程内存使用量"></a>检测进程内存使用量</h3><p>在对应用服务进行维护时，也经常遇到由于内存使用过大导致进程崩溃，造成业务中断的情况（例如 32 位程序可寻址的最大内存空间为 4G，如果超出将申请内存失败，同时物理内存也是有限的）。内存使用过高可能由于内存泄露，消息堆积等情况，通过脚本对业务进程内存使用量进行时时监控，可以在内存使用量异常时及时发送告警（例如通过短信），便于维护人员及时处理。下面的函数可获得指定进程 ID 的进程内存使用情况。它有一个参数为进程 ID，它首先使用 ps 查找进程信息，同时通过 grep -v 过滤掉 VSZ 行 , 然后通过除 1000 取以兆为单位的内存使用量。</p>
<h5 id="清单-4-对业务进程内存使用量进行监控"><a href="#清单-4-对业务进程内存使用量进行监控" class="headerlink" title="清单 4. 对业务进程内存使用量进行监控"></a>清单 4. 对业务进程内存使用量进行监控</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> GetMem </span><br><span class="line"> &#123; </span><br><span class="line">     MEMUsage=`ps -o vsz -p <span class="variable">$1</span>|grep -v VSZ` </span><br><span class="line">     (( MEMUsage /= <span class="number">1000</span>)) </span><br><span class="line">     <span class="built_in">echo</span> <span class="variable">$MEMUsage</span> </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>下面的功能是通过上面的函数 <code>GetMem</code>获得此进程的内存使用，然后通过条件语句判断内存使用是否超过限制，如果超过 1.6G（可以根据实际情况进行调整），则输出告警，否则输出正常信息。</p>
<h5 id="清单-5-判断内存使用是否超过限制"><a href="#清单-5-判断内存使用是否超过限制" class="headerlink" title="清单 5. 判断内存使用是否超过限制"></a>清单 5. 判断内存使用是否超过限制</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mem=`GetMem <span class="variable">$PID</span>`                </span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$mem</span> -gt 1600 ] </span><br><span class="line"><span class="keyword">then</span> </span><br><span class="line">&#123; </span><br><span class="line">    <span class="built_in">echo</span> “The usage of memory is larger than 1.6G”</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123; </span><br><span class="line">   <span class="built_in">echo</span> “The usage of memory is normal”</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<p>示例演示：</p>
<p>1）源程序（假设上面已经查询出 CFTestApp 的进程 ID 为 11426）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mem=`GetMem 11426` </span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;The usage of memory is <span class="variable">$mem</span> M&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$mem</span> -gt 1600 ] </span><br><span class="line"><span class="keyword">then</span> </span><br><span class="line">&#123; </span><br><span class="line">     <span class="built_in">echo</span> <span class="string">&quot;The usage of memory is larger than 1.6G&quot;</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123; </span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The usage of memory is normal&quot;</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<p>2）结果输出</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The <span class="keyword">usage</span> <span class="keyword">of</span> memory <span class="keyword">is</span> <span class="number">248</span> M </span><br><span class="line">The <span class="keyword">usage</span> <span class="keyword">of</span> memory <span class="keyword">is</span> normal </span><br><span class="line">[dyu@xilinuxbldsrv shell]$</span><br></pre></td></tr></table></figure>

<p>3）结果分析</p>
<p>从上面的输出可见：CFTestApp 程序当前的内存使用为 248M，是正常的，没有超过 1.6G 的告警限制。</p>
<h3 id="检测进程句柄使用量"><a href="#检测进程句柄使用量" class="headerlink" title="检测进程句柄使用量"></a>检测进程句柄使用量</h3><p>在对应用服务进行维护时，也经常遇到由于句柄使用 过量导致业务中断的情况。每个平台对进程的句柄使用都是有限的，例如在 Linux 平台，我们可以使用 ulimit – n 命令（open files (-n) 1024）或者对 &#x2F;etc&#x2F;security&#x2F;limits.conf 的内容进行查看，得到进程句柄限制。句柄使用过高可能由于负载过高，句柄泄露等情况，通过脚本对业务进程句柄使用量进行时时监控，可以在异常时及时发送告警（例如通过短信），便于维护人员及时处理。下面的函数可获得指定进程 ID 的进程句柄使用情况。它有一个参数为进程 ID，它首先使用 ls 输出进程句柄信息，然后通过 wc -l 统计输出句柄个数。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> GetDes </span><br><span class="line">&#123; </span><br><span class="line">    DES=`<span class="built_in">ls</span> /proc/<span class="variable">$1</span>/fd | <span class="built_in">wc</span> -l` </span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$DES</span> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>下面功能是通过上面的函数 <code>GetDes</code>获得此进程的句柄使用量，然后通过条件语句判断句柄使用是否超过限制，如果超过 900（可以根据实际情况进行调整）个，则输出告警，否则输出正常信息。</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">des=` GetDes $PID` </span><br><span class="line"><span class="keyword">if</span> [ $des -gt <span class="number">900</span> ] </span><br><span class="line">then </span><br><span class="line">&#123; </span><br><span class="line">    <span class="keyword">echo</span> “The <span class="keyword">number</span> of des <span class="keyword">is</span> larger than <span class="number">900</span>”</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123; </span><br><span class="line">   <span class="keyword">echo</span> “The <span class="keyword">number</span> of des <span class="keyword">is</span> <span class="keyword">normal</span>”</span><br><span class="line">&#125; </span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p>示例演示：</p>
<p>1）源程序（假设上面查询出 CFTestApp 的进程 ID 为 11426）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">des=`GetDes 11426` </span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;The number of des is <span class="variable">$des</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$des</span> -gt 900 ] </span><br><span class="line"><span class="keyword">then</span> </span><br><span class="line">&#123; </span><br><span class="line">     <span class="built_in">echo</span> <span class="string">&quot;The number of des is larger than 900&quot;</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123; </span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The number of des is normal&quot;</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<p>2）结果输出</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The <span class="keyword">number</span> of des <span class="keyword">is</span> <span class="number">528</span> </span><br><span class="line">The <span class="keyword">number</span> of des <span class="keyword">is</span> <span class="keyword">normal</span> </span><br><span class="line">[dyu@xilinuxbldsrv <span class="keyword">shell</span>]$</span><br></pre></td></tr></table></figure>

<p>3）结果分析</p>
<p>从上面的输出可见：CFTestApp 程序当前的句柄使用为 528 个，是正常的，没有超过 900 个的告警限制。</p>
<p>4）命令介绍</p>
<p>wc: 统计指定文件中的字节数、字数、行数 , 并将统计结果显示输出。 </p>
<p>参数：-l 统计行数。 -c 统计字节数。 -w 统计字数。</p>
<p><a href="http://www.ibm.com/developerworks/cn/linux/l-cn-shell-monitoring/#ibm-pcon">回页首</a></p>
<h2 id="使用-Shell-对系统资源进行监控"><a href="#使用-Shell-对系统资源进行监控" class="headerlink" title="使用 Shell 对系统资源进行监控"></a>使用 Shell 对系统资源进行监控</h2><h3 id="查看某个-TCP-或-UDP-端口是否在监听"><a href="#查看某个-TCP-或-UDP-端口是否在监听" class="headerlink" title="查看某个 TCP 或 UDP 端口是否在监听"></a>查看某个 TCP 或 UDP 端口是否在监听</h3><p>端口检测是系统资源检测经常遇到的，特别是在网络通讯情况下，端口状态的检测往往是很重要的。有时可能进程，CPU，内存等处于正常状态，但是端口处于异常状态，业务也是没有正常运行。下面函数可判断指定端口是否在监听。它有一个参数为待检测端口，它首先使用 netstat 输出端口占用信息，然后通过 grep, awk,wc 过滤输出监听 TCP 端口的个数，第二条语句为输出 UDP 端口的监听个数，如果 TCP 与 UDP 端口监听都为 0，返回 0，否则返回 1.</p>
<h5 id="清单-6-端口检测"><a href="#清单-6-端口检测" class="headerlink" title="清单 6. 端口检测"></a>清单 6. 端口检测</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> Listening </span><br><span class="line">&#123; </span><br><span class="line">   TCPListeningnum=`netstat -an | grep <span class="string">&quot;:<span class="variable">$1</span> &quot;</span> | \n</span><br><span class="line">   awk <span class="string">&#x27;$1 == &quot;tcp&quot; &amp;&amp; $NF == &quot;LISTEN&quot; &#123;print $0&#125;&#x27;</span> | <span class="built_in">wc</span> -l` </span><br><span class="line">   UDPListeningnum=`netstat -an|grep <span class="string">&quot;:<span class="variable">$1</span> &quot;</span> \n</span><br><span class="line">   |awk <span class="string">&#x27;$1 == &quot;udp&quot; &amp;&amp; $NF == &quot;0.0.0.0:*&quot; &#123;print $0&#125;&#x27;</span> | <span class="built_in">wc</span> -l` </span><br><span class="line">   (( Listeningnum = TCPListeningnum + UDPListeningnum )) </span><br><span class="line">   <span class="keyword">if</span> [ <span class="variable">$Listeningnum</span> == 0 ] </span><br><span class="line">   <span class="keyword">then</span> </span><br><span class="line">   &#123; </span><br><span class="line">       <span class="built_in">echo</span> <span class="string">&quot;0&quot;</span></span><br><span class="line">   &#125; </span><br><span class="line">   <span class="keyword">else</span> </span><br><span class="line">   &#123; </span><br><span class="line">      <span class="built_in">echo</span> <span class="string">&quot;1&quot;</span></span><br><span class="line">   &#125; </span><br><span class="line">   <span class="keyword">fi</span> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例演示：</p>
<p>1）源程序（例如查询 8080 端口的状态是否在监听）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">isListen=`Listening 8080` </span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$isListen</span> -eq 1 ] </span><br><span class="line"><span class="keyword">then</span> </span><br><span class="line">&#123; </span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The port is listening&quot;</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123; </span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The port is not listening&quot;</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<p>2）结果输出</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">The port <span class="keyword">is</span> listening </span><br><span class="line"><span class="string">[dyu@xilinuxbldsrv shell]</span>$</span><br></pre></td></tr></table></figure>

<p>3）结果分析</p>
<p>从上面的输出可见：这个 Linux 服务器的 8080 端口处在监听状态。</p>
<p>4）命令介绍</p>
<p>netstat: 用于显示与 IP、TCP、UDP 和 ICMP 协议相关的统计数据，一般用于检验本机各端口的网络连接情况。 参数：-a 显示所有连线中的 Socket。 -n 直接使用 IP 地址，而不通过域名服务器。</p>
<p>下面的功能也是检测某个 TCP 或者 UDP 端口是否处在正常状态。</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">tcp</span>: netstat -an|egrep $<span class="number">1</span> |awk &#x27;$<span class="number">6</span> == <span class="string">&quot;LISTEN&quot;</span> &amp;&amp; $<span class="number">1</span> == <span class="string">&quot;tcp&quot;</span> &#123;print $<span class="number">0</span>&#125;&#x27;</span><br><span class="line"><span class="attribute">udp</span>: netstat -an|egrep $<span class="number">1</span> |awk &#x27;$<span class="number">1</span> == <span class="string">&quot;udp&quot;</span> &amp;&amp; $<span class="number">5</span> == <span class="string">&quot;0.0.0.0:*&quot;</span> &#123;print $<span class="number">0</span>&#125;&#x27;</span><br></pre></td></tr></table></figure>

<p>命令介绍</p>
<p>egrep: 在文件内查找指定的字符串。egrep 执行效果如 grep -E，使用的语法及参数可参照 grep 指令，与 grep 不同点在于解读字符串的方法，egrep 是用扩展的正则表达式语法来解读，而 grep 则用基本的正则表达式语法，扩展的正则表达式比基本的正则表达式有更完整的表达规范。</p>
<h3 id="查看某个进程名正在运行的个数"><a href="#查看某个进程名正在运行的个数" class="headerlink" title="查看某个进程名正在运行的个数"></a>查看某个进程名正在运行的个数</h3><p>有时我们可能需要得到服务器上某个进程的启动个数，下面的功能是检测某个进程正在运行的个数，例如进程名为 <code>CFTestApp。</code></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Runnum=`<span class="keyword">ps</span> -ef | <span class="keyword">grep</span> -v <span class="keyword">vi</span> | <span class="keyword">grep</span> -v tail | <span class="keyword">grep</span> <span class="string">&quot;[ /]CFTestApp&quot;</span> | <span class="keyword">grep</span> -v <span class="keyword">grep</span> | wc -<span class="keyword">l</span></span><br></pre></td></tr></table></figure>


<h3 id="检测系统-CPU-负载"><a href="#检测系统-CPU-负载" class="headerlink" title="检测系统 CPU 负载"></a>检测系统 CPU 负载</h3><p>在对服务器进行维护时，有时也遇到由于系统 CPU（利用率）负载 过量导致业务中断的情况。服务器上可能运行多个进程，查看单个进程的 CPU 都是正常的，但是整个系统的 CPU 负载可能是异常的。通过脚本对系统 CPU 负载进行时时监控，可以在异常时及时发送告警，便于维护人员及时处理，预防事故发生。下面的函数可以检测系统 CPU 使用情况 . 使用 vmstat 取 5 次系统 CPU 的 idle 值，取平均值，然后通过与 100 取差得到当前 CPU 的实际占用值。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function GetSysCPU </span><br><span class="line">&#123; </span><br><span class="line">  <span class="attribute">CpuIdle</span>=`vmstat 1 5 |sed -n <span class="string">&#x27;3,$p&#x27;</span> \n</span><br><span class="line">  |awk <span class="string">&#x27;&#123;x = x + $15&#125; END &#123;print x/5&#125;&#x27;</span> |awk -F. <span class="string">&#x27;&#123;print $1&#125;&#x27;</span></span><br><span class="line">  <span class="attribute">CpuNum</span>=`echo <span class="string">&quot;100-<span class="variable">$CpuIdle</span>&quot;</span> | bc` </span><br><span class="line">  echo <span class="variable">$CpuNum</span> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例演示：</p>
<p>1）源程序</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">cpu=`GetSysCPU` </span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;The system CPU is <span class="variable">$cpu</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$cpu</span> -gt 90 ] </span><br><span class="line"><span class="keyword">then</span> </span><br><span class="line">&#123; </span><br><span class="line">   <span class="built_in">echo</span> <span class="string">&quot;The usage of system cpu is larger than 90%&quot;</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123; </span><br><span class="line">   <span class="built_in">echo</span> <span class="string">&quot;The usage of system cpu is normal&quot;</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<p>2）结果输出</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The <span class="built_in">system</span> CPU <span class="keyword">is</span> <span class="number">87</span> </span><br><span class="line">The usage of <span class="built_in">system</span> cpu <span class="keyword">is</span> <span class="keyword">normal</span> </span><br><span class="line">[dyu@xilinuxbldsrv <span class="keyword">shell</span>]$</span><br></pre></td></tr></table></figure>

<p>3）结果分析</p>
<p>从上面的输出可见：当前 Linux 服务器系统 CPU 利用率为 87%，是正常的，没有超过 90% 的告警限制。</p>
<p>4）命令介绍</p>
<p>vmstat：Virtual Meomory Statistics（虚拟内存统计）的缩写，可对操作系统的虚拟内存、进程、CPU 活动进行监视。<br>参数： -n 表示在周期性循环输出时，输出的头部信息仅显示一次。</p>
<h3 id="检测系统磁盘空间"><a href="#检测系统磁盘空间" class="headerlink" title="检测系统磁盘空间"></a>检测系统磁盘空间</h3><p>系统磁盘空间检测是系统资源检测的重要部分，在系统维护维护中，我们经常需要查看服务器磁盘空间使用情况。因为有些业务要时时写话单，日志，或者临时文件等，如果磁盘空间用尽，也可能会导致业务中断，下面的函数可以检测当前系统磁盘空间中某个目录的磁盘空间使用情况 . 输入参数为需要检测的目录名，使用 df 输出系统磁盘空间使用信息，然后通过 grep 和 awk 过滤得到某个目录的磁盘空间使用百分比。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> GetDiskSpc </span><br><span class="line">&#123; </span><br><span class="line">   <span class="keyword">if</span> [ <span class="variable">$#</span> -ne 1 ] </span><br><span class="line">   <span class="keyword">then</span> </span><br><span class="line">       <span class="built_in">return</span> 1 </span><br><span class="line">   <span class="keyword">fi</span> </span><br><span class="line"></span><br><span class="line">   Folder=<span class="string">&quot;$1$&quot;</span></span><br><span class="line">   DiskSpace=`<span class="built_in">df</span> -k |grep <span class="variable">$Folder</span> |awk <span class="string">&#x27;&#123;print $5&#125;&#x27;</span> |awk -F% <span class="string">&#x27;&#123;print $1&#125;&#x27;</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="variable">$DiskSpace</span> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例演示：</p>
<p>1）源程序（检测目录为 &#x2F;boot）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Folder=<span class="string">&quot;/boot&quot;</span></span><br><span class="line"></span><br><span class="line">DiskSpace=`GetDiskSpc <span class="variable">$Folder</span>` </span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;The system <span class="variable">$Folder</span> disk space is <span class="variable">$DiskSpace</span>%&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$DiskSpace</span> -gt 90 ] </span><br><span class="line"><span class="keyword">then</span> </span><br><span class="line">&#123; </span><br><span class="line">   <span class="built_in">echo</span> <span class="string">&quot;The usage of system disk(<span class="variable">$Folder</span>) is larger than 90%&quot;</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123; </span><br><span class="line">   <span class="built_in">echo</span> <span class="string">&quot;The usage of system disk(<span class="variable">$Folder</span>)  is normal&quot;</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2）结果输出</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The <span class="built_in">system</span> /boot disk space <span class="keyword">is</span> <span class="number">14</span>% </span><br><span class="line">The usage of <span class="built_in">system</span> disk(/boot)  <span class="keyword">is</span> <span class="keyword">normal</span> </span><br><span class="line">[dyu@xilinuxbldsrv <span class="keyword">shell</span>]$</span><br></pre></td></tr></table></figure>

<p>3）结果分析</p>
<p>从上面的输出可见：当前此 Linux 服务器系统上 &#x2F;boot 目录的磁盘空间已经使用了 14%，是正常的，没有超过使用 90% 的告警限制。</p>
<p>4）命令介绍</p>
<p>df：检查文件系统的磁盘空间占用情况。可以利用该命令来获取硬盘被占用了多少空间，目前还剩下多少空间等信息。 参数：-k 以 k 字节为单位显示。</p>
<p><a href="http://www.ibm.com/developerworks/cn/linux/l-cn-shell-monitoring/#ibm-pcon">回页首</a></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>在 Linux 平台下，shell 脚本监控是一个非常简单，方便，有效的对服务器，进程进行监控的方法，对系统开发以及进程维护人员非常有帮助。它不仅可以对上面的信息进行监控，发送告警，同时也可以监控进程的日志等等的信息，希望本文对大家有帮助。</p>
<p><a href="http://www.love4026.org/wp-content/uploads/2013/11/test.zip">源码下载</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313658/quora%E7%B2%BE%E9%80%89%EF%BC%9A%E6%80%8E%E6%A0%B7%E5%85%8B%E6%9C%8D%E6%8B%96%E5%BB%B6%E7%97%87%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313658/quora%E7%B2%BE%E9%80%89%EF%BC%9A%E6%80%8E%E6%A0%B7%E5%85%8B%E6%9C%8D%E6%8B%96%E5%BB%B6%E7%97%87%EF%BC%9F/" class="post-title-link" itemprop="url">quora精选：怎样克服拖延症？</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2013-11-02 03:30:59" itemprop="dateCreated datePublished" datetime="2013-11-02T03:30:59+08:00">2013-11-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BD%AC%E8%BD%BD/" itemprop="url" rel="index"><span itemprop="name">转载</span></a>
        </span>
    </span>

  
    <span id="/313658/quora%E7%B2%BE%E9%80%89%EF%BC%9A%E6%80%8E%E6%A0%B7%E5%85%8B%E6%9C%8D%E6%8B%96%E5%BB%B6%E7%97%87%EF%BC%9F/" class="post-meta-item leancloud_visitors" data-flag-title="quora精选：怎样克服拖延症？" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313658/quora%E7%B2%BE%E9%80%89%EF%BC%9A%E6%80%8E%E6%A0%B7%E5%85%8B%E6%9C%8D%E6%8B%96%E5%BB%B6%E7%97%87%EF%BC%9F/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313658/quora%E7%B2%BE%E9%80%89%EF%BC%9A%E6%80%8E%E6%A0%B7%E5%85%8B%E6%9C%8D%E6%8B%96%E5%BB%B6%E7%97%87%EF%BC%9F/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><strong>回答者：Oliver Emberton</strong></p>
<p>我会回答这个问题，但是首先我要用两分钟的时间通过一条卡通小蛇解释一下人类文明。</p>
<p>人类通常认为自己非常聪明。然而那些伟大而绝妙的大脑，可以让我们分裂原子、登上月球，同时却又蠢到直到截止时间之前都无法开始工作。</p>
<p>我们由很原始的生物进化而来，但我们自己却从未摆脱那些原始的处事逻辑。你觉得你聪慧、理性的一面体现了你的人类天性？好吧，让我把他叫做Albert。他的邻居住着一条任性的蛇Rex。</p>
<p><img src="http://tankr.net/s/medium/QWLH.jpg" alt="Quora精选：怎样克服拖延症？"></p>
<p>你知道为什么当陌生人舌灿莲花时，你一定会被吸引过去？是Rex在作怪，不管你有多抵制，你没法把他关掉。他是你的本能，你的冲动，你的爱和恐惧。</p>
<p>我们倾向于认为Albert是“真实的我”，是我们大脑的理性部分，支配着我们所思所想。当我们决定健身或者写期末论文时，是Albert在做决定。但是Albert老了，容易疲惫，一疲惫就关机。</p>
<p>一个困倦的老教授和一条任性而又精力充沛的蛇不停在你大脑中打仗，而且方向盘还在Rex手里。</p>
<p><img src="http://tankr.net/s/medium/60EY.jpg" alt="Quora精选：怎样克服拖延症？"></p>
<p>Rex听Albert的话，就像一个小孩儿一样，他会按照你说的做，只要他不是太反对。但是如果Rex迫切地想窝在沙发里看电视吃零食，你肯定无法抵抗。</p>
<p>我们有此难以置信的天性，很大程度上因为我们的思想系统发展出了滋养Rex的环境，同时又试图替换掉他，抚慰他，推翻他。</p>
<p>我们把这个系统叫做”文明“，这是一个包含了法律、正义、教育、娱乐和一夫一妻制的系统，所有的这些使得Rex可以镇定下来，好让Albert做一些有用的事情，例如发现青霉素，或者发明零食。</p>
<p><img src="http://tankr.net/s/medium/SKQJ.jpg" alt="Quora精选：怎样克服拖延症？"></p>
<p>现在我们来说说你的拖延症。</p>
<p>你看似很理性地做了个决定，但是为什么却执行不了。事实是你每天做决定的是Rex，而他远没有那么成熟。</p>
<p>想象一下，你要说服一个小孩子按照你的意愿去做事。如果是很简单的事，只要表明你的权威就可以了，但是如果他不想这么做，他根本不会听你的，那你只能诱惑他。</p>
<p><strong>忘掉逻辑</strong>：当你决定做某事的时候，逻辑和理性没有任何帮助。你内心的小蛇可能平静、害怕，或者兴奋。但是他不会说话，你也没法和他讲道理。</p>
<p><strong>舒服很重要</strong>：如果你又累又饿或者很压抑，小蛇会反抗。如果你没照顾好自己，他会哀嚎，尖叫，拒绝你那些该死的决定。他想要的是：吃，睡，玩儿。</p>
<p><strong>营养原则</strong>：建立正面激励和负面惩罚。如果你想让一个小孩儿吃蔬菜，不要先给他甜点。奖励自己的成功，惩罚自己的失败。还有一个传统的做法是设立一个公共的目标，或者进入团队工作，这样可以影响Rex。</p>
<p><strong>煽动情绪</strong>：你头脑中的小蛇会对情绪做出回应，这是他的语言。所以，让你自己紧张、恐惧。有煽动性的话语、电影、文章都会起作用。我用的是音乐（一个我把它叫做“音乐征服世界”的播放列表）。把完成的喜悦和失败的挫折画下来，使它生动得足够震撼你。我们用同样的把戏对付孩子：“好好刷牙，不然你的牙齿会掉光”。</p>
<p><strong>强制开始</strong>：你所要做的最重要的事是立刻开始。Rex的本能是拒绝改变，一旦你开始做什么事情，这些本性就开始拖你的后腿。如果有足够的时间，你甚至可以说服Rex做他讨厌的事情。同样的道理，我们强迫孩子们上学或者学钢琴。</p>
<p><strong>改变环境</strong>：Rex目光短浅而且不太聪明。如果他看见Facebook的按钮，他肯定想去点。这就像你在一个孩子睡前给他看了一个很棒的电视节目的开头。制造一个不容易分心的环境：退出即时通讯，关掉推送通知，关掉电子邮件。把工作和娱乐的环境分开，并且最好把电脑隔离开。</p>
<p>当你知道应该追寻什么，你就会开始认识它的模式并且控制它。</p>
<p>你的头脑中有个任性而冲动的小孩儿，很不幸他还掌握着方向盘。如果你是个好父母，他会按照你说的做，而且把你服务好。你所要做的，是记住谁该做主。</p>
<p><em>[<a href="http://jandan.net/2013/10/14/habit-of-procrastinating.html">吕岭立</a> via <a href="http://www.quora.com/Procrastination/How-do-I-get-over-my-bad-habit-of-procrastinating/answer/Oliver-Emberton">Quora</a>]</em></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313653/nginx-%E4%B8%BA-http-header-%E6%B7%BB%E5%8A%A0charset-utf-8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313653/nginx-%E4%B8%BA-http-header-%E6%B7%BB%E5%8A%A0charset-utf-8/" class="post-title-link" itemprop="url">Nginx 为 http header 添加Charset utf-8</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2013-10-23 08:21:42" itemprop="dateCreated datePublished" datetime="2013-10-23T08:21:42+08:00">2013-10-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
    </span>

  
    <span id="/313653/nginx-%E4%B8%BA-http-header-%E6%B7%BB%E5%8A%A0charset-utf-8/" class="post-meta-item leancloud_visitors" data-flag-title="Nginx 为 http header 添加Charset utf-8" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313653/nginx-%E4%B8%BA-http-header-%E6%B7%BB%E5%8A%A0charset-utf-8/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313653/nginx-%E4%B8%BA-http-header-%E6%B7%BB%E5%8A%A0charset-utf-8/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>LNMPA下的http头信息的Content-Type: text&#x2F;html 没有设置charset&#x3D;utf-8</p>
<pre><code>HTTP/1.1 200 OK
Server: nginx/1.0.15
Date: Wed, 23 Oct 2013 08:12:31 GMT
Content-Type: text/html
Connection: keep-alive
Vary: Accept-Encoding
X-Powered-By: InfoMaster/1.1.Alpha1 (Ray)
</code></pre>
<p>添加方法很简单</p>
<p>修改 &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;conf&#x2F;nginx.conf 在http, server, 或 location 下添加</p>
<p><code>charset utf-8;</code></p>
<p>使用 <code>curl -IL info.shibangsoft.com</code> 查看如下</p>
<pre><code>HTTP/1.1 200 OK
Server: nginx/1.0.15
Date: Wed, 23 Oct 2013 08:19:05 GMT
Content-Type: text/html; charset=utf-8
Connection: keep-alive
Vary: Accept-Encoding
X-Powered-By: InfoMaster/1.1.Alpha1 (Ray)
</code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313650/lnmpa-%E4%B8%8B-htaccess-301-%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E9%87%8D%E5%AE%9A%E5%90%91%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313650/lnmpa-%E4%B8%8B-htaccess-301-%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E9%87%8D%E5%AE%9A%E5%90%91%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">LNMPA 下 htaccess 301 静态网页重定向问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2013-10-22 03:03:11" itemprop="dateCreated datePublished" datetime="2013-10-22T03:03:11+08:00">2013-10-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
        </span>
    </span>

  
    <span id="/313650/lnmpa-%E4%B8%8B-htaccess-301-%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E9%87%8D%E5%AE%9A%E5%90%91%E9%97%AE%E9%A2%98/" class="post-meta-item leancloud_visitors" data-flag-title="LNMPA 下 htaccess 301 静态网页重定向问题" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313650/lnmpa-%E4%B8%8B-htaccess-301-%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E9%87%8D%E5%AE%9A%E5%90%91%E9%97%AE%E9%A2%98/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313650/lnmpa-%E4%B8%8B-htaccess-301-%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%E9%87%8D%E5%AE%9A%E5%90%91%E9%97%AE%E9%A2%98/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在lnmpa下使用.htaccess重定向整个域名，或者把非www重定向到www域名上，会出现，.html后缀的网页无法实现重定向，但在lamp服务器下没有问题，经检查是因为lnmpa服务器下，apache处理php文件，nginx处理静态文件，比如html,js,css文件，所以这些文件无法重定向成功，只有在nginx下设置重定向。</p>
<p>在apache下设置域名<code>stonecrushingplant.net</code>全部重定向到<code>en.stonecrushingplant.net</code>上，htaccess文件写法如下：</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">RewriteEngine</span> <span class="literal">On</span></span><br><span class="line"><span class="attribute">RewriteCond</span> <span class="variable">%&#123;HTTP_HOST&#125;</span> ^stonecrushingplant.net<span class="meta"> [OR]</span></span><br><span class="line"><span class="attribute">RewriteCond</span> <span class="variable">%&#123;HTTP_HOST&#125;</span> ^www.stonecrushingplant.net<span class="meta"> [NC]</span></span><br><span class="line"><span class="attribute">RewriteRule</span> ^(.*)$ http://en.stonecrushingplant.net/$<span class="number">1</span><span class="meta"> [L,R=301]</span></span><br></pre></td></tr></table></figure>

<p>在lnmpa下，你还需要在nginx配置文件下写上</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">if</span> (<span class="variable">$host</span> != <span class="string">&#x27;en.stonecrushingplant.net&#x27;</span> ) &#123;</span><br><span class="line">	<span class="attribute">rewrite</span><span class="regexp"> ^/(.*)$</span> http://en.stonecrushingplant.net/<span class="variable">$1</span> <span class="literal">permanent</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>nginx修改的位置在<code>/usr/local/nginx/conf/vhost/stonecrushingplant.net.cof</code></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line">  <span class="attribute">server_name</span> stonecrushingplant.net www.stonecrushingplant.net en.stonecrushingplant.net;</span><br><span class="line">  <span class="attribute">index</span> index.html index.htm index.php default.html default.htm default.php;</span><br><span class="line">  <span class="attribute">root</span>  /home/wwwroot/stonecrushingplant.net;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">if</span> (<span class="variable">$host</span> != <span class="string">&#x27;en.stonecrushingplant.net&#x27;</span> ) &#123;</span><br><span class="line">    <span class="attribute">rewrite</span><span class="regexp"> ^/(.*)$</span> http://en.stonecrushingplant.net/<span class="variable">$1</span> <span class="literal">permanent</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313648/%E6%97%A5%E6%9C%AC%E5%9B%A0%E7%B4%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313648/%E6%97%A5%E6%9C%AC%E5%9B%A0%E7%B4%A0/" class="post-title-link" itemprop="url">日本因素</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2013-10-13 09:14:19" itemprop="dateCreated datePublished" datetime="2013-10-13T09:14:19+08:00">2013-10-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BD%AC%E8%BD%BD/" itemprop="url" rel="index"><span itemprop="name">转载</span></a>
        </span>
    </span>

  
    <span id="/313648/%E6%97%A5%E6%9C%AC%E5%9B%A0%E7%B4%A0/" class="post-meta-item leancloud_visitors" data-flag-title="日本因素" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313648/%E6%97%A5%E6%9C%AC%E5%9B%A0%E7%B4%A0/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313648/%E6%97%A5%E6%9C%AC%E5%9B%A0%E7%B4%A0/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>“怎么说呢，这事我很矛盾”，他停顿了一下，从后视镜里看了我一眼，似乎要确认我是否是值得交谈的对象。他的平头黑白发交错，修剪得齐刷刷的。当他开口时，是纯正的京片子——自得、漫不经心。</p>
<p>我在工体东门上了这辆出租车，习惯性地抱怨现在的车真难打，他则说路太难走，除去拥堵，燕莎一带又封路了，日本大使馆在那里。我随口问起他对日本的看法。</p>
<p>“小日本是招人恨，但有时也得感谢它”，他腾出右手，把竖起的拇指朝上，“要是没它，我们一直以为自己是这个”，然后把拇指朝下，“因为它，我们才知道自己是这个”。</p>
<p>他的家庭就像是中日关系的某种缩影。他出生于1958年的沈阳，他的母亲是在满洲国度过了童年，提起“小日本”就咬牙切齿，他的儿子则是个“日本迷”，一心想到东京去学电脑游戏。老太太听到这个消息，把他骂得狗血喷头，她心理上接受不了自己的孙子去日本。</p>
<p>他自己呢？他这一代受尽历史的捉弄，对社会充满怨恨，也像很多人一样，对中国有一种“自我厌恶”之感。如果你无力改变现状，诅咒现状也是一种释放的方式。而倘若有一种力量，能帮他诅咒这个现状，那也未尝不可。</p>
<p>一个多世纪来，日本的存在，像是对中国统治者的不断嘲讽。你认为自己是天朝大国，结果在甲午战争中输给这昔日的“倭寇”; 你好不容易变成了中华民国，你又被日本逼到了西南一角、苦苦支撑; 你以为自己是“战胜国”，却在打开国门时发现自己再次远远落后于日本; 你认定自己已经崛起、日本陷入衰落，却发现日本不仅深入你的日常生活，还俘获了下一代的心;而这一次，你连一次和平的示威都无法做到，而日本人在面对地震、海啸都显得那么镇定……</p>
<p>不过，他的个人感慨，却像是对中国命运轨迹的另一次提醒——日本在这个轨迹中，总是扮演着特别的、宿命式的角色，它鼓舞中国，也摧毁她的努力。人们很难不去猜想，倘若没有甲午战争，洋务运动是否会走到一个新局面？如果“七七事变”没有爆发，中国的“黄金十年”继续延长，蒋介石的“攘外必先安内”的政策成功了会怎样？而这一次，石原慎太郎的挑衅之举，是否进一步催化了中国强硬派的力量，把处于十字路口的中国推向我们不愿看到的方向？</p>
<p>历史总充满吊诡。一小群极端的力量，常能劫持整个社会。这在中日关系中曾经不断上演。而如今，两国又处于这样一个时刻，这次钓鱼岛的争执，可能给两国都带来长远而深刻的影响。在东亚漫长的历史上，还从未出现过中、日两强并存的局面，它们本身就会带来巨大的摩擦，而倘若极端力量利用这些摩擦，就可能导致更为灾难性的后果。或许，战争不太可能爆发，但排外情绪总会转化成内部压迫，它足以使两国的社会都滑向更为褊狭的一端。</p>
<p><em>（注：本文仅代表作者本人观点。本文编辑刘波。）</em></p>
<p>来源：<a href="http://www.ftchinese.com/story/001046758">http://www.ftchinese.com/story/001046758</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313645/%E5%A4%A9%E6%89%8D%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%A0%95%E8%90%BD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313645/%E5%A4%A9%E6%89%8D%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%A0%95%E8%90%BD/" class="post-title-link" itemprop="url">天才为什么要堕落</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2013-10-12 15:09:01" itemprop="dateCreated datePublished" datetime="2013-10-12T15:09:01+08:00">2013-10-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BD%AC%E8%BD%BD/" itemprop="url" rel="index"><span itemprop="name">转载</span></a>
        </span>
    </span>

  
    <span id="/313645/%E5%A4%A9%E6%89%8D%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%A0%95%E8%90%BD/" class="post-meta-item leancloud_visitors" data-flag-title="天才为什么要堕落" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313645/%E5%A4%A9%E6%89%8D%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%A0%95%E8%90%BD/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313645/%E5%A4%A9%E6%89%8D%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%A0%95%E8%90%BD/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>麻省理工学院（MIT）的蓝勃教授是数学界中大名鼎鼎的人物，他获得过被誉为“数学界中的诺贝尔奖”的菲尔茨奖，他给上他课的大学生们留了一道难题，题目写在了楼道的黑板上，并称，看看谁能在学期结束前给出答案。<br>　　看看谁能在学期结束前给出答案，蓝勃教授这句话的真实意思其实是，我不相信你们有谁能给出答案，毕竟，作为数学界的顶尖人物，他当年是花了很长时间才找到答案的。<br>　　但是，没两天，黑板上就出现了答案。但是，这个人并不愿露面，尽管露面可以享受难得的荣誉。<br>　　蓝勃教授再下战书，留了第二道难题，这道难题，他和伙伴花了整整两年才解开。<br>　　同样，没两天，那个“神秘数学天才”再次给出答案。这次，蓝勃教授看到了“神秘数学天才”的身影，发现他竟然是MIT这所顶尖学府的这栋大楼里的一位清洁工，但这位清洁工并不想被发现，他一边辱骂教授一边跑了。<br>　　这是着名的心理影片《心灵捕手》（又译名《骄阳似我》）一开始的情节。看到这种情节，我脑子里冒出一句话，世界是分裂的。MIT的光辉，竟被一个落魄的清洁工彻底盖住了。<br>　　不过，外部世界的分裂，源自内心的分裂。这个落魄的男孩，他其实只是在工作之外的少数业余时间做一下解数学难题和读书这种“正确的事”，而多数业余时间，他是和几个问题青年一起打架斗殴、偷盗乃至袭警等。其中，他最拿手的是去MIT或哈佛大学，“三分钟摆平一个笨蛋”。<br>　　这个内心分裂的男孩叫威尔，等蓝勃找到威尔时，威尔已因打架斗殴和袭警而被关进监狱，但蓝勃申请作为威尔的监护人而将他保释，保释的条件有两个：一，威尔要与蓝勃配合解数学难题；二，威尔要看心理医生。<br>　　威尔不想看心理医生，但更不想蹲监狱。两害寻其轻，他不得已答应了做病人。<br>　　但是，作为天才的病人，威尔接连赶跑5名心理医生。最终，蓝勃找来了自己大学同窗、现在的心理学教授西恩来为威尔做治疗。<br>　　同样的，在第一次会面中，威尔也刺痛了西恩。他通过对西恩一幅画作的观察，而看出了西恩当时的心态。西恩的画作是一个在波浪滔天的大海中独自画船的人。对此，威尔看出了两个内容，他对西恩说，第一，你当时正在暴风雨中，第二，你娶了“错误的女人”。<br>　　西恩被激怒了，他警告威尔，不要侮辱他已死去的太太，而当威尔再次说“没错，你的确娶错了女人”时，西恩暴怒，他冲上去掐住威尔的脖子并威胁说，如果你再这么说，我会杀了你。<br>　　威尔震惊了。以前，他戏弄那些心理医生时，他们的方式先是惊惶，接着是掩饰自己的愤怒，而后是拒绝继续给他做治疗。但西恩不一样，他也被刺痛，但他直接表达愤怒。更不一样的是，这个被刺痛被激怒的男人，答应继续给他做治疗。<br>　　在心理治疗中，或者在一切亲密关系中，这都是很关键的一点。<br>　　我们每个人都有一套固定的逻辑，我们认为，自己的某些特质是“好我”，这些特质可以让自己维持并促进关系的发展，而自己某些特质的是“坏我”，这些特质会导致一个关系的疏远甚至结束。<br>　　因此，当我们想与一个人亲近时，就会表现出“好我”，并刻意压制“坏我”，而当我们想与一个人疏远时，就会表现出“坏我”，而不再表现“好我”。<br>　　譬如，一个依赖者，当想与一个人亲近时，他会表现得非常依赖，有时就是所谓的“可爱”。相反，一个支配者，当想与一个人亲近时，就会表现出非常有能力的一面。<br>　　这时，如果那个人中招了，真的在我们表现“好我”时而与我们亲近，并在我们表现出“坏我”时结束了与我们的关系，那就意味着，我们的逻辑再一次得到了强化。<br>　　这是导致我们心理问题的根本所在。如依赖者总会发现，别人之所以不接纳他，好像总是因为他还不够依赖，支配者则会发现，别人之所以不接纳他，好像总是因为他还不够有力量。所以，每当遇到一个危机事件，我们都会进一步强化自己的逻辑，这导致我们越来越僵化。<br>　　假若说治疗能发挥作用的话，关键点就在于，心理医生帮助来访者明白，他可以不必对那个逻辑那么执着，也就是说，他的“好我”并不一定会促进关系，而他的“坏我”也并不一定会疏远关系。<br>　　威尔的逻辑，其实就是，“天才”是坏我，“平庸”是好我。他其实认为，天才并不能换来关系中的亲密，而平庸倒可以做到这一点。每当他展现天才时，其实多数时候都是在疏远乃至结束一个关系。所以，我们看到，他的聪明都用到了刺激心理医生、“三分钟摆平一个笨蛋”等事情上。<br>　　也可以说，他其实讨厌他的天才，他不原因别人因为他是天才而接纳他，他更愿意别人仅仅因为他这个人而接纳他。<br>　　那5名心理医生都中了威尔的招数，威尔用坏的方式表达他的天才时，他们都中断了和他的关系。西恩不同，看起来，他也中了威尔的招数，一样被刺痛，甚至更痛。但他这时不是中断与威尔的关系，而是选择了真诚袒露自己的心声。<br>　　当西恩这样做时，威尔的世界已经是在被颠覆了。威尔第一次发现，原来真诚地表达愤怒，并不意味着关系的结束。<br>　　第二次会面中，威尔的世界进一步被颠覆。西恩先是承认，威尔的确刺痛了他，令他彻夜难眠，但在这种痛苦中，西恩想明白了很多。<br>　　尽管总是将聪明用在攻击上，但威尔还是以自己的聪明自豪。但是，西恩对他说：“看到你，我没有看到聪明自信，我看到的是一个被吓傻的狂妄孩子。”<br>　　这句话的意思是，西恩明白，威尔狂妄的聪明自信，不过是对痛苦的防御罢了。这种防御是一堵墙，令威尔只敢与书本建立关系，而不敢与世界直接建立关系。而在说这段话之前，西恩还说了一段震撼人心的话语：<br>　　你只是个孩子，你根本不晓得你在说什麽。<br>　　问你艺术，你可能会提出艺术书籍中的粗浅论调，有关米开朗基罗，你知道很多，他的满腔政治热情，他与教皇相交莫逆，和他的耽于性爱，你对他很清楚吧？但你知道西斯汀教堂的气味吗？你没试过站在那儿，昂首眺望天花板上的名画吧？你肯定未见过吧？<br>　　如果我问关于女人的事，你大可以向我如数家珍，你可能上过几次床，但你没法说出在女人身旁醒来时，那份内心真正的喜悦。<br>　　你年轻彪悍，我如果和你谈论战争，你大可以会向我大抛莎士比亚，背诵“共赴战场，亲爱的朋友”，但你从未亲临战阵，未试过把挚友的头拥入怀里，看着他吸着最后一口气，凝望着你，向你求助。<br>　　我问你何为爱情，你可能会吟风弄月，但你未试过全情投入真心倾倒，四目交投时彼此了解对方的心，好比上帝安排天使下凡只献给你，把你从地狱深渊拯救出来，对她百般关怀的感受你也从未试过，你从未试过对她的情深款款矢志厮守，明知她患了绝症也再所不惜，你从未尝试过痛失挚爱的感受……<br>　　西恩继续说，不要以为，我了解你，也许我可以通过知识来看你，但那不是你，除非你愿意谈谈你自己，否则我不知道你到底是谁。<br>　　说完这番话后，西恩撂下了一句话“现在该你了”，这句话的意思是，我愿意真诚地去面对你，但你是否做好了真诚面对我的准备？<br>　　西恩的这番话也刺痛了威尔，或者说，令威尔感到震撼。第一次有“正确的人”对他如此坦诚相待，而他以前对付这些人的招数好像也都不再能发挥作用。那么，自己愿意冒一次险吗？真的对一个心理医生袒露心声？<br>　　最终，威尔选择了继续。 </p>
<p>　　小标题：<br>　　选择继续是一个意愿，意味着威尔愿意尝试改变，但从这个初步的意愿到袒露心声是需要时间的，所以，在接下来的两次治疗中，威尔长时间地陷入沉默中。<br>　　威尔沉默时，西恩一样沉默着。他绝不先开口，而是等待威尔开口。<br>　　这种沉默有两种意思。第一，他在告诉威尔，你有沉默的权利。第二，威尔要自己决定是否袒露心声，而不是由心理医生来诱惑或施加压力让威尔袒露心声。<br>　　终于，在玩了很长时间的“瞪眼游戏”后，威尔主动开口讲话了。这意味着，治疗正式开始了。<br>　　治疗正式开始后的第一个话题是爱情。西恩问威尔，在恋爱吗？威尔回答说有，但他有点不敢进行下去。<br>　　为什么？西恩问。威尔回答说：“现在她很完美，我不想破坏。”<br>　　对此，西恩说：“或许是你认为自己完美，你不想破坏……这是极好的哲学，可以一辈子不认识人。”<br>　　这是无数人在恋爱时会犹疑的原因。看起来，我们是认为对方太完美了，所以不敢接近或不敢破坏这个幻想，但其实是我们惧怕自己的不完美被对方看到。<br>　　读大学时，我做电话心理热线，一个自称很帅的男孩打电话给我说，他失恋了，很痛苦。但这失恋又是他选择的。他和一个美女去逛街，美女突然说，你等我一下。他等了好长一会儿还没见美女回来，这时他突然明白，美女正在大便。一想到这么漂亮的美女在大便的情景，他特别忍受不了，于是转身而去。<br>　　这个故事中隐含着的道理是，美女的“美”和帅哥的“帅”是“好我”，他们之所以能被别人接纳，是因为相貌上的“好我”，而一旦有“丑”的“坏我”出现，他们就得不到关系中的爱与认可了。所以，这个男孩转身而去，看起来是不能接纳美女也大便的事实，但其实是不能接纳自己也有丑的时候。<br>　　怎么在治疗中让来访者放下对这个逻辑的执着呢？心理医生可以戳穿来访者这个逻辑背后的把戏，但只这样做的话，就太生硬了。<br>　　于是，西恩在不动声色地戳穿威尔的游戏后，讲了自己一个故事。他说，他的太太放起屁来超厉害，一次，他被太太的屁惊醒了，接着，他家的狗叫了起来，最后，太太自己也被弄醒了，问他，是不是你在放屁，西恩说是。<br>　　西恩讲这个故事时，忍不住狂笑起来，而威尔也忍不住大笑起来。故事讲完后，西恩解释说，真实就是美，“不完美才是好东西，它可以选择谁进入我的世界……你的女生也不完美，关键是，你们是否合适。”<br>　　这次咨询结束后，威尔立即去见他钟爱的女孩——哈佛大学的史凯兰去了。 </p>
<p>　　小标题：<br>　　威尔和史凯兰，是在哈佛大学的一个酒吧认识。当时，威尔与他的三个死党——他们都没有机会读大学——去这个酒吧，一方面是为了“泡妞”，另一方面是继续威尔最擅长的游戏——“三分钟摆平一个笨蛋”，而且是全球最知名大学的“笨蛋”。<br>　　这两面威尔都得逞了。威尔最铁的哥们查克冒充历史系学生和美女史凯兰搭讪，但哈佛大学的学生克拉克看破了查克是冒牌货，于是过来考查克历史学知识，但却被救驾的威尔给羞辱了。<br>　　威尔不仅羞辱了以哈佛大学生而自居的克拉克，也赢得了史凯兰的好感，两人第一次擦出了火花。<br>　　恋爱关系，是比治疗关系更为深层的关系。既然威尔不敢与心理医生建立关系，那么他更没有勇气去和自己所爱的女孩建立真正的关系。或者说，这是更为艰难的挑战。<br>　　在西恩的启发下，威尔终于鼓足勇气去见史凯兰了，并且两人的关系一直发展得好像很顺利。<br>　　但是，危机一直存在。敏锐的观众会发现，威尔一直不相信史凯兰爱自己，史凯兰的很多话，他都解释为，史凯兰并不是真心爱他。<br>　　譬如，史凯兰对他说，“有机化学对你这种人没用”。威尔立即问，他“这种人”是什么人。<br>　　再如，他几次对史凯兰暗示，他怀疑自己只是史凯兰的一个玩具，一个过渡性的男朋友，他的天才、贫穷和传奇会给史凯兰的生命添加一些色彩，但史凯兰作为一个富家女，早晚会抛弃他，而最终还是会嫁给一个成功人士。<br>　　最后，当他们的爱情抵达第一个最高潮时，也迅速跌落了最低潮。<br>　　史凯兰从哈佛大学毕业后，要去斯坦福大学医学院继续进读，所以希望威尔和她一起去加利福尼亚州。但威尔拒绝了，他认为，如果到时史凯兰发现他的缺点怎么办？那时她就会受不了他，而抛弃他。<br>　　这伤害了史凯兰，她说，如果你不爱我就该告诉我，你如果不爱我，我会消失，不会再出现在你的世界里。<br>　　听了史凯兰这番话，威尔立即说，我不爱你。<br>　　听到这句话，13岁时失去了父母双亲的史凯兰再一次痛得弯下了腰，而威尔也走了。<br>　　每个人都在坚持自己的逻辑，每个人都在用自己的逻辑看对方，结果，越爱时就越孤独，因为越爱时就越坚持自己的逻辑，而这时就看不到对方的存在了。<br>　　对史凯兰而言，她是个“好女孩”，而“好女孩”的逻辑是不能给别人麻烦，所以说如果你不爱就告诉我，我会主动消失。但对威尔而言，史凯兰这句话会让进一步相信，她并不爱他，她好像在寻找一个让自己主动离开的借口。<br>　　史凯兰认为，希望威尔跟自己去加州，证明她爱他。但在威尔的世界里，这种搬迁是最可怕的事情。他先是被父母抛弃，后来4次被送人寄养，其中3次被严重虐待。所以，他内心深处认为，换一个家是最可怕的事情。<br>　　于是，在第一次爱到最深处的时候，他们也遭遇了最严重的危机。这是他们各自坚守自己逻辑的结果。当然，主要是威尔坚守自己逻辑的结果。 </p>
<p>　　小标题：<br>　　其实，这时不只是爱情到了第一个高潮，他的治疗也到了一个高潮，威尔和西恩已建立了很深的信任。同时，威尔的事业也貌似将进入一个高潮，蓝勃教授正接二连三给他介绍优裕的工作……<br>　　但是，对威尔而言，这是一种颠覆，他会恐惧。<br>　　因为，他在恶劣的生存环境中长大，这让他对自己的逻辑无比执着。这也是每个人的共同点。<br>　　我们每个人都深信自己的逻辑。假若一个女子说，男人都不是好东西。那么，她亲近的男子一定都不是好东西。因为，她会爱上“男人都不是好东西”这个断言，如若她遇到了一个“好男人”，她的世界就会有颠覆的危险，她的内心就会有失控的感觉。于是，为了避免这种失控感，她要么远离好男人，要么会把好男人变成坏男人。<br>　　对威尔而言，他的一个断言是“我只是一个玩具”，他的聪明可以给别人的生活带来些乐子，但只要他出现一些“坏我”，一个亲密关系会立即结束，对方会毫不犹豫抛弃他。他过去的人生经验一再证明了这一点。<br>　　所以，当治疗、爱情和事业都抵达一个高潮时，他内心的斗争也就抵达了一个最严重的危机——是固守自己已有的逻辑，还是冒险接纳新的逻辑。<br>　　不幸的是，绝大多数时候，我们都会坚持自己固有的逻辑。于是，人生就只是一个轮回。<br>　　有意思的是，化解这个危机的是他的死党查克，这也是影片感人至深的一个情节。在建筑工地上休息时，威尔说，他觉得整天这样做体力活也不错，他希望他们的孩子能在未来一起玩耍和生活。<br>　　没料到，查克却对他说，如果我们50岁时，你还和我在一起，我会杀死你。<br>　　这令威尔非常震惊，也许比面对西恩时还要震惊，因为他觉得，他和查克是如此好的朋友，他们在一起的时光是他们都很享受的。<br>　　但查克告诉他，他每天最幸福的时候只有10秒，就是每天他去威尔家接他出来时。每次，他都想象，这次见不到威尔了，那意味着威尔到了能施展他的才华的地方。然而，每次他都能见到威尔开门，这种幸福感便消失了。<br>　　这是非常非常重要的一环。看上去，我们每个人都限制了自己，都生活各种各样的痛苦中。但是，我们之所以陷在这种痛苦中而不能自拔，是因为，这种表面上的痛苦其实有着极大的好处。我们之所以离不开痛苦，是因为舍不得这种好处。<br>　　威尔之所以自甘堕落，之所以浪费才华，无比重要的原因是，他通过这样的方式赢得了友谊，而他和查克等3名死党的友谊，是他多年以来在这个世界上仅有的支持。<br>　　关系就是一切，一切都是为了关系。我们常讲自我价值感，其实我们追求的并不是孤独的价值感，而是关系中的价值感。<br>　　在《心灵捕手》这部影片中，爱情是迷人的，心理治疗的过程更迷人，但威尔无意中最看重的，恰恰是和查克这些问题青年的友谊，因为这是他多年以来仅有的认可他、接纳他的关系。西恩懂得这一点，所以当蓝勃说威尔的朋友是“智障”时，他愤怒地为威尔辩护。<br>　　所以，当查克也对他说，你走吧，我渴望你顺应你的天才时，威尔真正解脱了。前面有爱情、事业等美好而正确的生活等着他，后面则是多年死党的督促、威逼和容纳，那么威尔还有什么好犹豫的呢？ </p>
<p>　　小标题：<br>　　影片最后一个高潮，是威尔终于又来到了西恩的治疗室，而西恩拿着威尔的卷宗，那上面有他的种种问题和受虐经历，对他一遍又一遍地说：“这不是你的错。”<br>　　西恩第一次这样说时，威尔说：“我知道”。<br>　　但是，威尔并不知道，他只是口头上知道而已。所以，西恩继续说。<br>　　威尔惊讶了，他看上去甚至讨厌西恩这样说，所以说：“你不要戏弄我。”<br>　　但西恩继续说：“这不是你的错。”<br>　　终于，威尔的防线彻底崩溃了，他扑在西恩的身上，紧紧抱着西恩，像婴儿一样痛苦。<br>　　这种拥抱，有着极大的象征意义，意味着威尔终于第一次真正信任了好的关系。<br>　　影片的最后，是威尔驾驶着查克等死党送给他的破车，奔向加州，去找史凯兰。<br>　　这是一部非常棒的影片，无论是治疗过程，还是对威尔的内心的理解，都非常具有深度而且真实。威尔和西恩的扮演者也有极佳的表演。凭借这些因素，这部影片获得了1998年奥斯卡奖的最佳配角奖（给西恩的扮演者罗宾·威廉斯）和最佳编剧奖（给威尔的扮演者马特·戴蒙和查克的扮演者本·阿弗莱克），并获得了其他多项大奖。<br>　　不过，作为心理学工作者，我还想说，这部影片中有太多的戏剧色彩。导演给了威尔太多的支持性因素，譬如他的天分、爱情、卓越的心理医生和极讲义气的死党，而在现实生活中，同时获得这些因素非常不容易，尤其是查克的那番话，我很少在现实生活见到。<br>　　甚至，在这一点上事情总是相反的。当我们想脱离旧的逻辑而奔向新的人生时，那些与我们旧的逻辑捆绑在一起的人，很容易产生恐惧，并有意无意使用各种方式来阻拦我们的改变。<br>　　所以，我们在现实生活中若想有真的改变，需要比威尔拿出更多的勇气。</p>
<p>附：豆瓣影评 <a href="http://movie.douban.com/subject/1292656/">http://movie.douban.com/subject/1292656/</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313642/%E5%9C%A8centos6-4%E4%B8%8A%E5%AE%89%E8%A3%85git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313642/%E5%9C%A8centos6-4%E4%B8%8A%E5%AE%89%E8%A3%85git/" class="post-title-link" itemprop="url">在CentOS6.4上安装Git</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2013-10-12 05:32:03" itemprop="dateCreated datePublished" datetime="2013-10-12T05:32:03+08:00">2013-10-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BD%AC%E8%BD%BD/" itemprop="url" rel="index"><span itemprop="name">转载</span></a>
        </span>
    </span>

  
    <span id="/313642/%E5%9C%A8centos6-4%E4%B8%8A%E5%AE%89%E8%A3%85git/" class="post-meta-item leancloud_visitors" data-flag-title="在CentOS6.4上安装Git" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313642/%E5%9C%A8centos6-4%E4%B8%8A%E5%AE%89%E8%A3%85git/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313642/%E5%9C%A8centos6-4%E4%B8%8A%E5%AE%89%E8%A3%85git/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>确保已安装了依赖的包</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install </span>curl</span><br><span class="line">yum <span class="keyword">install </span>curl-devel</span><br><span class="line">yum <span class="keyword">install </span>zlib-devel</span><br><span class="line">yum <span class="keyword">install </span>openssl-devel</span><br><span class="line">yum <span class="keyword">install </span>perl</span><br><span class="line">yum <span class="keyword">install </span>cpio</span><br><span class="line">yum <span class="keyword">install </span>expat-devel</span><br><span class="line">yum <span class="keyword">install </span>gettext-devel</span><br></pre></td></tr></table></figure>

<p>下载最新的git包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">wget http://www.codemonkey.org.uk/projects/git-snapshots/git/git-latest.tar.gz</span><br><span class="line">tar xzvf git-latest.tar.gz</span><br><span class="line"><span class="built_in">cd</span> git-2011-11-30 ＃你的目录可能不是这个</span><br><span class="line">autoconf</span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line"><span class="built_in">sudo</span> make install</span><br></pre></td></tr></table></figure>

<p>检查下安装的版本，大功告成</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="comment">--version</span></span><br></pre></td></tr></table></figure>

<p>git依赖<code>zlib-devel，openssl-devel，perl，cpio，expat-devel，gettext-devel</code>这些包，如果出错基本上也是这些包造成的。我在安装时出现了如下错误。</p>
<p>出现错误一：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">usr<span class="regexp">/bin/</span>perl <span class="type">Makefile</span>.<span class="type">PL</span> <span class="type">PREFIX</span><span class="operator">=</span>&#x27;<span class="regexp">/usr/</span>local<span class="regexp">/git&#x27; INSTALL_BASE=&#x27;&#x27; --localedir=&#x27;/</span>usr<span class="regexp">/local/</span>git<span class="regexp">/share/</span>locale&#x27;</span><br><span class="line"></span><br><span class="line"><span class="type">Can</span>&#x27;t locate <span class="type">ExtUtils</span><span class="regexp">/MakeMaker.pm in @INC (@INC contains: /</span>usr<span class="regexp">/local/</span>lib64<span class="regexp">/perl5 /</span>usr<span class="regexp">/local/</span>share<span class="regexp">/perl5 /</span>usr<span class="regexp">/lib64/</span>perl5<span class="regexp">/vendor_perl /</span>usr<span class="regexp">/share/</span>perl5<span class="regexp">/vendor_perl /</span>usr<span class="regexp">/lib64/</span>perl5 <span class="regexp">/usr/</span>share<span class="operator">/</span>perl5 .) at <span class="type">Makefile</span>.<span class="type">PL</span> line <span class="number">3</span>.</span><br><span class="line"></span><br><span class="line"><span class="type">BEGIN</span> failed<span class="operator">--</span>compilation aborted at <span class="type">Makefile</span>.<span class="type">PL</span> line <span class="number">3</span>.</span><br><span class="line"></span><br><span class="line">make[<span class="number">1</span>]: <span class="operator">***</span> [perl.mak] <span class="type">Error</span> <span class="number">2</span></span><br><span class="line"></span><br><span class="line">make: <span class="operator">***</span> [perl<span class="operator">/</span>perl.mak] <span class="type">Error</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>执行：</p>
<p><code>yum install perl-ExtUtils-MakeMaker package.</code></p>
<p>行进安装</p>
<p>出现错误二：</p>
<p><code> /bin/sh: msgfmt: command not found</code></p>
<p>使用</p>
<p><code>yum install gettext-devel</code></p>
<p>可解决！</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://leadscloud.github.io/313640/%E6%97%B6%E9%97%B4%E7%AE%AD%E5%A4%B4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ray">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="leadscloud">
      <meta itemprop="description" content="熟悉 Google SEO，外贸营销推广，这是我的个人博客，主要分享工作中的技术。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | leadscloud">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/313640/%E6%97%B6%E9%97%B4%E7%AE%AD%E5%A4%B4/" class="post-title-link" itemprop="url">时间箭头</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2013-10-06 13:00:32" itemprop="dateCreated datePublished" datetime="2013-10-06T13:00:32+08:00">2013-10-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-10 12:42:07" itemprop="dateModified" datetime="2025-04-10T12:42:07+08:00">2025-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%B8%AA%E4%BA%BA%E6%97%A5%E5%BF%97/" itemprop="url" rel="index"><span itemprop="name">个人日志</span></a>
        </span>
    </span>

  
    <span id="/313640/%E6%97%B6%E9%97%B4%E7%AE%AD%E5%A4%B4/" class="post-meta-item leancloud_visitors" data-flag-title="时间箭头" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Valine：</span>
  
    <a title="valine" href="/313640/%E6%97%B6%E9%97%B4%E7%AE%AD%E5%A4%B4/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/313640/%E6%97%B6%E9%97%B4%E7%AE%AD%E5%A4%B4/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>今天看关于宇宙的纪录片，发现了这个知识。<br><a href="http://zh.wikipedia.org/wiki/%E6%97%B6%E9%97%B4%E7%AE%AD%E5%A4%B4">http://zh.wikipedia.org/wiki/%E6%97%B6%E9%97%B4%E7%AE%AD%E5%A4%B4</a></p>
<p>　—时间啊时间— </p>
<p>　　 “时间之箭”，是英国天体物理学家爱丁顿于1927年提出的。这个词非常形象地描绘了时间的特性——不可逆，正如脱离弓弦而出的箭，一直向前，永不回头。我们可以把时间和空间比较一下，空间有三个维度，你可以四面八方地走来走去，但时间却不行，你只能影响未来，对过去只有回忆。空间包围在我们四周，而时间却只能一点一点地体验。时间比空间多了一个特殊的方向。<br>　　 这似乎是个很平常的事情，我们每时每刻都在体验时间的方向性。香水从瓶子里散发出香气；玻璃杯掉到地上摔碎；死去的生物逐渐腐烂。我们对此再清楚不过，当我们看到跳水运动员头朝下从水池里钻出来、越过空气，站到跳板上，或者看到地面上一堆碎玻璃跳到桌子上变成完整的杯子，就立刻知道这是录像带在倒放。<br>　　 时间的方向性也不仅仅是一个心理感受和物理学问题。想想有多少文学作品描写时间流逝的残酷和人生的短暂，想想犹太－基督教文化中的线性（不可逆）时间对于西方思想的深刻影响，想想哲学家们对于时间做出的多种多样的解释。时间并不只是一个物理学的量度，无论在我们的内心还是外界，无论在自然科学还是社会科学，琐碎生活还是文学艺术，时间都扮演着关键的角色。<br>　　 不过奇怪的是，我们对于时间的了解，其实非常非常的少。 </p>
<p>　　—物理学在时间面前败下阵来— </p>
<p>　　 普遍来说，我们都知道牛顿力学。它简单明了，而且适用于宇宙里任何物体。它甚至简洁到非常优美，比如万有引力公式，只要我们随便作个乘除法，你就立刻知道自己的引力状况，虽然这似乎没什么实际用途。对于宇宙学这就很有用，因为运用牛顿力学，我们可以算出任何一个星球在任何一个时刻的位置和速度。<br>　　 但是，牛顿力学却永远不会作一件事，那就是告诉我们时间的哪个方向是宇宙的过去，哪个是未来。牛顿方程从时间里把方向抽走了，没有为时间的不断前进性腾出任何地方。这种对称的时间，不论顺放也好，倒放也好，对于他的力学定律没有一点影响。<br>　　 当然，牛顿力学并不完美，现在我们都知道，在涉及接近光速运动、高引力场、原子尺度的时候，它并不适用。于是我们就会想到解决大尺度问题的相对论和解决小尺度问题的量子力学。可问题是，这两种理论，也是建立在时间无向的基础上，它们才不会告诉你哪个是过去，哪个是未来。而它们自身也都有着无法解决的难题。<br>　　 不过，也并不是所有的物理定律都对时间的问题置若罔闻或者故意回避，实际上，我们老早就在另一个层面描述时间的不可逆性了。 </p>
<p>　　—热力学第二定律与世界末日— </p>
<p>　　 热力学描述的是热和功之间的关系，详细说明热如何转化为别种能量，如何跟别种能力进行交换。在热力学第二定律里，我们发现一种叫做“熵”的量，它量度一个系统的可变能力，它跟时间有密切关系。熵的增大是时间方向的指路标。<br>　　 于是，在热力学第二定律的规定下，时间不会反演，永动机不会存在，摔碎在地的杯子不会凭空变回完整的状态。爱丁顿说：“如果你的理论违背第二定律，那你就没有希望了，你的理论只有丢尽脸，垮台。”<br>　　 在牛顿力学里，过去、现在、未来的任何时刻都一样，因此，力学没有时间性，“演化”没有太深的意义。热力学就不同了，这里，熵把每个时刻加以区别，宇宙是真正在演化的。<br>　　 热力学第二定律更深刻的意义在于，它表明一个孤立系统里不论发生了什么事情，熵必然在增加，时间也沿着箭头前进，而当熵达到最大值时，时间便停止演化，这个孤立系统于是就达到了热力学平衡，并失去了发生变化的能力。<br>　　 而我们的宇宙，正是一个孤立系统。如果用宇宙学的语言来表述热力学，那么第一定律就是：宇宙的总能量是守恒的；第二定律就是：宇宙的总熵在无情地朝着它的极大值增长。<br>　　 于是，宇宙的命运定下了基调：它将逐渐退化，最后停止于热力学平衡，此时不再有任何变化发生，这时宇宙的熵达到最大，所有的生命也就随之死亡。有人曾经为此写了首诗： </p>
<p>　　 热就是工作（功），而工作是该死的东西。<br>　　 宇宙中所有的热，<br>　　 因为不能再增加，<br>　　 都在逐渐冷下去。<br>　　 此后，不会再有任何工作了，<br>　　 将是天下太平，永远的休息。<br>　　 真的吗？<br>　　 真的！老兄，这就是熵，<br>　　 所有这些都是因为<br>　　 热力学第二定律！ </p>
<p>　　我们的文明，我们的艺术，我们的一切的一切最终就是这个下场。真悲惨啊，不是吗？不过，实际上，热力学第二定律其实也有它面临的问题。下面，我们就看看这个问题，对我们来说，这个问题恐怕极其重要。 </p>
<p>　　—该死的，生命是怎么来的？— </p>
<p>　　 宇宙是一个孤立、封闭的系统，就像一杯糖水；如果宇宙从最开始就是以一种单调无序的状态增加熵，那么从最初诞生到最终灭亡，宇宙将只是一团混沌的粒子。但显然不是这样，无论是星球，还是生命，都是一种有序的形式，那么，一个无序的宇宙是怎么产生出极其有序的生命来的呢？这就好像一杯糖水里突然冒出来一个固体糖块一样。<br>　　 难道是热力学定律出了问题？<br>　　 其实，并不是热力学定律出了问题，而是我们对于热力学理解得太不够了。传统的热力学只描述平衡态，而此时的它就像是一个算命先生，虽然他不一定知道你明天会去约会，但他肯定知道你将来会死。可实际上，膨胀的宇宙、细胞分裂、心脏跳动，所有这些过程都不是平衡态过程。而当一个系统远离平衡时，它会产生局部热点，对于宇宙来说，这些局部热点产生了很多有趣的结果，例如天上闪烁的星星，例如生命的出现。<br>　　 所以，光靠热力学也是不够的，增熵倾向描述了时间之箭，但它仅仅指向平衡态，它告诉我们一个系统的结局，但却不会告诉我们一个系统是如何在时间上演化。于是，人们又寻找其他的手段和技巧。 </p>
<p>　　—非平衡态热力学和非线性动力学— </p>
<p>　　 我们传统的热力学是平衡态的，我们传统的力学是线性的，现在，我们把它们统统砸碎，创造了非平衡态的热力学和非线性的动力学。而在这些理论中，时间的方向性是不可或缺的一环。<br>　　 但我不打算详细讲这些东西是怎么来的，因为这涉及到概率论、统计学、微分方程等等困难的东西，相当多的方程只有依靠大型计算机才能解决，最著名的例子就是天气预报。<br>　　 我要谈的是这些方程的各式各样众多的解，不过首先，我们最好先看看什么叫“非线性”。书里说得很明白，“非线性”的意思就是“所得非所望”。一个线性关系中的量是成比例的：十枚橘子的价钱是一枚的十倍。非线性意味着批发价格是不成比例的：一大箱橘子的价钱比一枚的价钱乘以橘子的个数要少。这里重要的观念是“反馈”——折扣的大小反过来又影响顾客购买的数量。<br>　　 非线性中的互为因果，使系统变得不稳定，使它容易达到一个临界状态，而一个系统被驱赶到远离平衡的临界状态之外，就会产生很多有趣的、奇妙的结果。 </p>
<p>　　—有序、混沌和自组织— </p>
<p>　　 我们可以设想一个狼－羊系统，如果狼的出生率与死亡率相等，羊的出生率也和死亡率相等，我们就可以说这个系统是有序的、平衡的。但显然，这个平衡很容易被打破。<br>　　 如果狼多了，那么它们就会更多捕食羊群，结果羊变得更少，狼变得更多，但到了一定程度上，当羊的数量不足以维持狼的数量时，狼便会减少，然后羊在这样的情况下再慢慢恢复数量。<br>　　 如果狼少了，那么羊就会大量繁殖，从而狼的数量也会增加，但供羊吃的食物有限，于是在达到饱和状态后，食物减少，羊的数量随即开始减少，相应的狼的数量就相对太多了，于是我们又回到了上一个循环中。<br>　　 很多观察结果表明，狼－羊系统（或者山猫－兔子系统）呈现一种非线性的波动发展，也就是一种不断持续变化的混沌状态。<br>　　 从另一个角度看，这个狼－羊系统具有自我调节能力，在不需要外界的干预下就可以显示出规律性。而这就叫做自组织。自组织其实就是远离平衡态的表现。生物学的自组织容易理解，而物理学上的自组织也已经被实验所证实了。1900年贝纳发现，夹在两片玻璃之间的一薄层液体，在加热到合适的温度时，液体会出现六角形的蜂巢结构。<br>　　 实际上，我们所知的任何系统，都可以用有序、混沌，自组织来描述。这个范围非常广，基本粒子，细胞分裂，生物群落数量的涨落，股票，发酵过程，粘菌组织，豹子身上斑点的变化，心脏纤维性颤动，性别的产生，社会变革，等等等等。<br>　　 而其中最重要的，就是进化。<br>　　 现在我们可以认为，所有的生物都来自一个祖先，问题是，这个祖先是怎么来的？达尔文可没有回答。后来，也就是在1953年，芝加哥大学的学生米勒把模拟的原始地球大气和水混合在一起，然后用电火花模拟闪电，接着把那一罐子混合物放了几天，结果在里面化验出了氨基酸，而氨基酸是组成蛋白质的材料。<br>　　 当然，实际情况可没这么简单，可这毕竟提出了一种答案。如果用自组织原则，那么这种从无机的浑汤里产生有机分子的事情就有可能发生。或许，生命的产生是件既简单，又普遍的事情。 </p>
<p>　　—时间之箭的意义— </p>
<p>　　 时间的不可逆性所揭示的结果是非凡的，尽管它提醒我们死亡和腐朽，但它也让我们面对一个充满可能性、难以预料的未来。只有在一个不可逆的世界里因果才能分明，一个合乎逻辑的对事件的陈述才可能成立。<br>　　 不可逆性容许有一系列令人兴奋的可能性，因为只有有了不可逆性，才会有生命，才会有天地万物。 
　　 </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/17/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><span class="page-number current">18</span><a class="page-number" href="/page/19/">19</a><span class="space">&hellip;</span><a class="page-number" href="/page/46/">46</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/19/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Ray</span>
  </div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/leadscloud" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/algoliasearch/4.24.0/algoliasearch-lite.umd.js" integrity="sha256-b2n6oSgG4C1stMT/yc/ChGszs9EY/Mhs6oltEjQbFCQ=" crossorigin="anonymous"></script><script src="/js/third-party/search/algolia-search.js"></script>







  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


  <script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":"ePPAQV9hFzcbhOaQvvtyjTnw-gzGzoHsz","app_key":"GLniGVXsSMGBjTmaiI4wleaF","server_url":"https://leancloud.tinycms.xyz","security":false}</script>
  <script src="/js/third-party/statistics/lean-analytics.js"></script>




<script class="next-config" data-name="valine" type="application/json">{"enable":true,"appId":"ePPAQV9hFzcbhOaQvvtyjTnw-gzGzoHsz","appKey":"GLniGVXsSMGBjTmaiI4wleaF","serverURLs":"https://leancloud.tinycms.xyz","placeholder":"Just go go","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"lang":"zh-cn","visitor":false,"comment_count":true,"recordIP":true,"enableQQ":true,"requiredFields":[],"el":"#valine-comments","path":"/page/18/"}</script>
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.valine.el)
    .then(() => NexT.utils.getScript(
      'https://fastly.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js',
      { condition: window.Valine }
    ))
    .then(() => {
      new Valine(CONFIG.valine);
    });
});
</script>

</body>
</html>
